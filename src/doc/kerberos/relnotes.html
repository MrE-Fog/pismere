<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=Edit-Time-Data href="relnotes_files/editdata.mso">
<title>Release Notes for Kerberos for Windows 3.2</title>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<style>
<!--
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";
	margin-left:0pt; margin-right:0pt; margin-top:0pt}
h1
	{margin-right:0pt;
	margin-left:0pt;
	font-size:24.0pt;
	font-family:"Times New Roman";
	font-weight:bold}
h2
	{margin-right:0pt;
	margin-left:0pt;
	font-size:18.0pt;
	font-family:"Times New Roman";
	font-weight:bold}
h3
	{margin-right:0pt;
	margin-left:0pt;
	font-size:13.5pt;
	font-family:"Times New Roman";
	font-weight:bold}
h4
	{margin-right:0pt;
	margin-left:0pt;
	font-size:12.0pt;
	font-family:"Times New Roman";
	font-weight:bold}
a:link
	{color:blue;
	text-decoration:underline;
	}
a:visited
	{color:blue;
	text-decoration:underline;
	}
p
	{margin-right:0pt;
	margin-left:0pt;
	font-size:12.0pt;
	font-family:"Times New Roman";
	}
code
	{font-family:"Courier New";
	}
pre
	{margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Courier New";
	margin-left:0pt; margin-right:0pt; margin-top:0pt}
ol
	{margin-bottom:0pt;}
ul
	{margin-bottom:0pt;}
-->
</style>
<!--[if gte mso 10]>
<style> table.MsoNormalTable
	{mso-style-parent:"";
	font-size:10.0pt;
	font-family:"Times New Roman";
	}
</style>
<![endif]-->
<meta content="Jeffrey Altman &lt;jaltman@mit.edu&gt;" name=author>
</head>

<body lang=EN-US link=blue vlink=blue>

<div class=Section1>

<div>

<h1 align=center style='text-align:center'>Kerberos for Windows 3.2</h1>

<h2 align=center style='text-align:center'>Release Notes</h2>

<h3 align=center style='text-align:center'>3 May 2007</h3>

<h3>Table of Contents</h3>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal><a
     href="#intro">Overview</a> </li>
<li class=MsoNormal><a
     href="#_What's_New_in">What's New in KfW 3.2</a> </li>
<li class=MsoNormal><a
     href="#requirements">System Requirements</a> </li>
<li class=MsoNormal><a
     href="#config">Installation and Configuration</a> </li>
</ul>

<ul style='margin-top:0pt' type=disc>
<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal><a
      href="#config_bin">Binaries</a> </li>
<li class=MsoNormal><a
      href="#config_locate">Locating Kerberos Configuration Files</a> </li>
</ul>
</ul>

<ul style='margin-top:0pt' type=disc>
<ul style='margin-top:0pt' type=disc>
<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal><a
       href="#config_locate_krb5">Kerberos 5</a> </li>
<li class=MsoNormal><a
       href="#config_locate_krb4">Kerberos 4</a> </li>
</ul>
</ul>
</ul>

<ul style='margin-top:0pt' type=disc>
<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal><a
      href="#config_modify">Modifying Kerberos Configuration Files</a> </li>
</ul>
</ul>

<ul style='margin-top:0pt' type=disc>
<ul style='margin-top:0pt' type=disc>
<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal><a
       href="#config_modify_krb5">Kerberos 5</a> </li>
<li class=MsoNormal><a
       href="#config_modify_krb4">Kerberos 4</a> </li>
</ul>
</ul>
</ul>

<ul style='margin-top:0pt' type=disc>
<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal><a
      href="#config_dns">Using DNS Lookups for Kerberos Configuration</a> </li>
<li class=MsoNormal><a
      href="#config_services">Services File</a> </li>
<li class=MsoNormal><a
      href="#config_cache">Ticket Cache</a> </li>
<li class=MsoNormal><a
      href="#config_time">Date and Time Issues</a></li>
</ul>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal><a
     href="#command_line">Command Line Options</a></li>
</ul>

<ul style='margin-top:0pt' type=disc>
<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal><a
      href="#leash32">netidmgr.exe</a></li>
<li class=MsoNormal><a
      href="#kinit">kinit.exe</a></li>
<li class=MsoNormal><a
      href="#klist">klist.exe</a></li>
<li class=MsoNormal><a
      href="#kdestroy">kdestroy.exe</a></li>
</ul>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal><a
     href="#build">Building from Sources</a></li>
<li class=MsoNormal><a
     href="#installer_notes">Notes on the NSIS Installer Scripts</a></li>
<li class=MsoNormal><a
     href="#leashw32_api">Leashw32 API</a></li>
<li class=MsoNormal><a
     href="#devnotes_registry">Registry and Environment Settings</a></li>
<li class=MsoNormal><a
     href="#mslsa">Integration with Microsoft Kerberos LSA</a></li>
<li class=MsoNormal><a
     href="#gss-client">GSS Sample Client</a></li>
<li class=MsoNormal><a
     href="#issues">Known Issues</a></li>
<li class=MsoNormal><a
     href="#history">Release History</a> </li>
<li class=MsoNormal><a
     href="#todo">To Do</a> </li>
<li class=MsoNormal><a
     href="#devnotes">Developer Notes</a> </li>
</ul>

<ul style='margin-top:0pt' type=disc>
<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal><a
      href="#devnotes_old">Some older notes from prior releases...</a> </li>
</ul>
</ul>

<div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>

<h2><a name=intro></a>Overview</h2>

<p>MIT Kerberos for Windows (<em>KfW</em>) is an integrated <a
href="http://web.mit.edu/kerberos/">Kerberos</a> release for Microsoft Windows
operating systems. It includes the Kerberos v4 library, Kerberos v5 library
version 1.6.1, Kerberos v5 GSS API library, Kerberos 524 library, KClient API
library, Leash API library, Network Identity Manager,
kinit/klist/kdestroy/krb524init/ms2mit/aklog command-line credentials managers,
and an in-memory credentials cache. </p>

<h3>Terminology</h3>

<p>Kerberos v4 (also Kerberos 4 or Kerberos version 4) and Kerberos v5 (also
Kerberos 5 or Kerberos version 5) refer to versions 4 and 5 of the Kerberos
protocol. A protocol is a specification for how data is transmitted on a
network. </p>

<p>Kerberos <em>credentials</em> and Kerberos <em>tickets</em> are the same
thing. <!-- http://www.geek.com/glossary/glossary_search.cgi?protocol --><!-- http://www.m-w.com/cgi-bin/dictionary?protocol --><!-- http://www.whatis.com/WhatIs_Definition_Page/0,4152,212839,00.html --><!-- ---------------------------------------------------------------------- --></p>

<div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>

<h2><a name=whatsnew></a><a name="_What's_New_in"></a>What's New in Kerberos
for Windows 3.2</h2>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Network
Identity Manager Application</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<ul style='margin-top:0pt' type=circle>
<li class=MsoNormal>A
simplified basic mode has been added to the “obtain new credentials
dialog”. &nbsp;&nbsp;The basic mode replaces the credential browser with
a button that can be used to access the advanced configuration
functions.&nbsp; &nbsp;This advanced mode provides the credential browser
and a tabbed view of the configuration dialogs for each of the available
credential providers.</li>
<li class=MsoNormal>A
new command-line option to netidmgr.exe is available to shutdown a
running instance of Network Identity Manager. &nbsp;Specify “-x” or
“—exit” to force the existing instance to terminate.</li>
<li class=MsoNormal>The
use of ellipsis on menu items now follows the Windows Style Guide.&nbsp;
Ellipsis is only used when additional information is required from the
user before carrying out the designated action. &nbsp;If displaying a
dialog is the action, no ellipsis is used.</li>
<li class=MsoNormal>Improved
handling of window focus when opening and closing modal dialogs.</li>
<li class=MsoNormal>Reduce
the number of alerts presented to the user by combining duplicates into a
single alert.</li>
<li class=MsoNormal>Do
not generate alerts if there is nothing that the user can do to correct
the situation.&nbsp; Alerts that are displayed provide actions the user
can take if desired.</li>
<li class=MsoNormal>Renew
and Destroy menus provide “All” and “Individual identity names” as
choices.</li>
<li class=MsoNormal>The
Renew and Destroy toolbar buttons provide dropdown menus permitting the
action to be applied to either “All” or one specific identity.</li>
<li class=MsoNormal>The
&quot;default&quot; action of left clicking the notification icon is now
configurable.&nbsp; The default configuration is &quot;open/close NIM
window&quot;.&nbsp; The alternate is to open the new credentials
dialog.&nbsp; This can be specified by the user on the General Options
page.</li>
<li class=MsoNormal>The
alerter window can now display multiple alerts simultaneously.</li>
<li class=MsoNormal>Ensure
that the NIM window is displayed on an active desktop.&nbsp; If not, move
it to the primary desktop and center it.</li>
<li class=MsoNormal>New
Basic mode display that shows only the state of the identity and its
expiration time.&nbsp; Use F7 or View-&gt;Advanced to switch to the
previous display that is configurable by the user to show details about
each credential.</li>
<li class=MsoNormal>New
Color Scheme derived from current Windows Desktop Color Scheme.</li>
<li class=MsoNormal>Improved
display updating algorithms reduce flicker</li>
<li class=MsoNormal>The
proper icon sizes are now used in the information bubble and the status
bar.</li>
<li class=MsoNormal>Plug-in
Help can now be added to the Help menu</li>
<li class=MsoNormal>A
Taskbar button is visible when the Application Window or Dialog is
created.</li>
</ul>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Network
Identity Manager Kerberos v5 Support</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<ul style='margin-top:0pt' type=circle>
<li class=MsoNormal>Do
not show cached prompts to user if they have expired</li>
<li class=MsoNormal>Correct
the possibility that a krb5_ccache handle might be freed twice.</li>
<li class=MsoNormal>Import
settings from Kerberos Profile if there are no equivalent defaults
specified in the registry.&nbsp; Support per-realm settings.</li>
<li class=MsoNormal>An
identity that matches the MSLSA will not renew its credentials from the
MSLSA if the user obtained the credentials from elsewhere.</li>
<li class=MsoNormal>When
importing an identity from the MSLSA that has never been seen before,
create an entry in the identity database.</li>
<li class=MsoNormal>Do
not attempt to renew non-renewable identities</li>
<li class=MsoNormal>Permit
an identity to be configured as the default identity even if it doesn't
have any credentials.</li>
</ul>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Kerberos
v5 Library Improvements</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<ul style='margin-top:0pt' type=circle>
<li class=MsoNormal>Based
on MIT release 1.6.1</li>
<li class=MsoNormal>On
Vista MSLSA: krb5_ccache can be used to
store tickets including TGTs for alternative principals to the LSA
credential cache</li>
<li class=MsoNormal>On
Vista a more efficient interface for
enumerating the contents of the LSA credential cache is available.</li>
<li class=MsoNormal>Vista support is only built if the Vista SDK
version of NTSecAPI.H is used.</li>
<li class=MsoNormal>On
Vista, if a process is UAC limited, the
MSLSA will report that no tickets are present in the cache rather than
return tickets with invalid session keys.</li>
<li class=MsoNormal>get_os_ccname()
uses GetEnvironmentVariable() instead of getenv() to read the KRB5CCNAME
environment variable.&nbsp; This allows the&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
correct default credential cache name to be returned by
krb5_cc_default_name().&nbsp;&nbsp; This works around a problem where a
gssapi application would trigger an Obtain New Credentials prompt from
NIM only to have it obtain the wrong credential cache.</li>
</ul>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Winsock
Helper Library Improvements</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<ul style='margin-top:0pt' type=circle>
<li class=MsoNormal>DNS
queries that terminate with a dot would not properly match the hostnames
listed within the DNS response preventing a successful
return.&nbsp;&nbsp; This resulted in &quot;kinit -4&quot; failing to find
the KDCs.</li>
</ul>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Integrated
Logon Improvements</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<ul style='margin-top:0pt' type=circle>
<li class=MsoNormal>Remove
the reliance on the Windows Logon Event handler and replace it with a
LogonScript that executes kfwlogon.dll via a call to rundll32.exe.&nbsp;
This change permits the integrated logon functionality to work on all
supported platforms: Windows 2000 to Windows Vista.</li>
<li class=MsoNormal>Disable
the use of integrated logon if the Network Provider is called as a result
of a non-interactive logon.&nbsp; The non-interactive logon does not
process the specified LogonScript. &nbsp;As a result, the intermediate
credential cache file would not be processed nor cleaned up.</li>
<li class=MsoNormal>Obtained
credentials are stored into an API credential cache whose name is
API:&lt;principal&gt;</li>
<li class=MsoNormal>Add
a debugging mode which when activated logs to the Windows Application
Event Log.&nbsp;&nbsp; <br>
[HKLM\System\CurrentControlSet\Services\MIT
Kerberos\NetworkProvider]&nbsp; <br>
DWORD &quot;Debug&quot;</li>
</ul>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Leash32
Library Changes</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<ul style='margin-top:0pt' type=circle>
<li class=MsoNormal>Modify
the leash functions to use krb5_string_to_deltat() to parse
ticket_lifetime and renew_lifetime from the profile.&nbsp; Previously the
leash functions expected those fields to be integer representation of
minutes without the use of any units.&nbsp; This change is for
consistency with KFM and the rest of the krb5 library.</li>
<li class=MsoNormal>Modify
the private functions acquire_tkt_for_princ() and acquire_tkt_no_princ()
that are called from gssapi32.dll so that they will work on Windows Vista
and so that the MSLSA: principal is only imported if it matches the
default identity and no credentials for that identity are present.</li>
<li class=MsoNormal>Remove
all AFS functionality.</li>
</ul>
</ul>

<div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>

<h2><a name=requirements></a>System Requirements</h2>

<h3>Operating System</h3>

<p>Kerberos for Windows 3.2 is designed for 32-bit versions of Windows 2000,
XP, 2003, 2003 R2, Vista and WOW64
environments.  There is no native 64-bit
process support at the current time.</p>

<h3>Microsoft Redistributable DLLs</h3>

<p>The following versions or newer of several freely redistributable Microsoft
DLLs are required depending on the compiler release used to build the
distribution.&nbsp; The MIT distribution is built using the Microsoft Visual
Studio .NET 2003 SP1 C/C++ compiler: </p>

<table class=MsoNormalTable border=0 cellpadding=0 width="100%"
 style='width:100.0%;'>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal><b>Filename</b></p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;&nbsp;&nbsp;&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal><b>Version</b></p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;&nbsp;&nbsp;&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal><b>Description</b> </p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>*</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>mfc71.dll</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>7.10.3077.0</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>MSVS.NET 2003 MFCDLL Shared Library - Retail Version</p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>*</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>msvcr71.dll</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>7.10.3031.4</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>MSVS.NET 2003 Microsoft (R) C Runtime Library</p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>*</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>msvcp71.dll</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>7.10.3077.0</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>MSVS.NET 2003 Microsoft (R) C Runtime Library</p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>*</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>psapi.dll</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>4.0.1198.1</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>Process Status Helper [not used in Windows 95/98/98SE/ME] </p>
</td>
</tr>
</table>

<p><!--
mfc42 - Me, 2000, XP
msvcrt - 98SE and higher
msvcp60 - 98SE and higher
psapi - NT 4, 2000, XP (not needed on 9x/Me)
-->The <em>KfW Installer</em> will install the DLLs marked by an asterisk. </p>

<p>To see what Microsoft products ship with which version of these DLLs, you
can use the <a
href="http://support.microsoft.com/servicedesks/fileversion/dllinfo.asp">DLL
Help Database</a>. </p>

<p>If you are not using the installer and you are missing some of these DLLs,
you can download the <em>Microsoft Redistributable Components</em> component
from the <a href="http://web.mit.edu/network/kerberos-form.html">MIT Kerberos
download site</a> and manually install each missing DLL. </p>

<p>Note: <code><span style='font-size:10.0pt'>psapi.dll</span></code> is also
available by itself from the <a
href="http://www.microsoft.com/downloads/release.asp?ReleaseID=30337">Microsoft
Download Center</a>. <!-- ---------------------------------------------------------------------- --></p>

<div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>

<h2><a name=config></a>Installation and Configuration</h2>

<h3><!-- ---------------------------------------------------------------------- --><a
name="config_bin"></a>Binaries</h3>

<h4>Core Binaries</h4>

<table class=MsoNormalTable border=0 cellpadding=0 width="100%"
 style='width:100.0%;'>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal><b>Filename</b></p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;&nbsp;&nbsp;&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal><b>Description</b> </p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>krbv4w32.dll</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>Kerberos 4 library</p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>krbcc32.dll</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>Kerberos credentials cache library -- required by Kerberos
4; used by Kerberos 5 for in-memory credentials cache</p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>krbcc32s.exe</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>Kerberos credentials cache -- required by krbcc32.dll </p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>kclnt32.dll</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>KClient library -- required by some Kerberos 4
applications (deprecated)</p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>krb5_32.dll</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>Kerberos 5 library </p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>krb524.dll</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>Kerberos 524 compatibility library</p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>leashw32.dll</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>Exports Ticket Init and Change Password dialogs as well as
registry get/set/reset functions for managing Leash configurations.&nbsp; (Used
by third party applications.)</p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>xpprof32.dll</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>Kerberos 5 Profile Management library (required by
leashw32.dll)</p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>comerr32.dll</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>Kerberos 5 Common Error Library (required by Kerberos 5
and Leash32.exe)</p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>gssapi32.dll</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>GSS API for Kerberos 5 </p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>wshelp32.dll</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>Winsock helper used by various things </p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>kinit.exe</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>command-line app to get Kerberos credentials </p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>klist.exe</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>command-line app to list Kerberos credentials </p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>kdestroy.exe</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>command-line app to destroy Kerberos credentials </p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>k524init.exe</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>command-line app to get Kerberos 4 credentials using
Kerberos 5 credentials instead of a password</p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>ms2mit.exe</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>command-line app to transfer Microsoft Kerberos v5 domain credentials
into the MIT Kerberos v5 credentials cache. </p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>mit2ms.exe</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>command-line app to transfer MIT Kerberos v5 credentials
cache contents to the Microsoft Kerberos LSA credentials cache.  This application can be used on Microsoft
Vista.</p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>kvno.exe</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>command-line app used to obtain one or more service
tickets and report the associated key version numbers.  This tool is useful for testing the ability
to obtain a service ticket via a TGT in an existing ccache, with a keytab
file, or when restricted to a specific enc-type.</p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>kcpytkt.exe</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>command-line app used to copy a specific ticket between
credential caches.</p>
</td>
</tr>
<tr>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>kdeltkt.exe</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:.75pt .75pt .75pt .75pt'>
<p class=MsoNormal>command-line app used to delete a specific ticket from a
credential cache.  </p>
</td>
</tr>
</table>

<h4>Network Identity Manager Binaries</h4>

<table class=MsoNormalTable border=1 cellpadding=0 width=699 style='width:524.25pt;
 '>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>netidmgr.exe</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'><pre wrap="">Network Identity Manager main executable.</pre></td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>krb4cred.dll</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'><pre wrap="">Provides information to Windows about which versions of libraries should be associated with netidmgr.exe.</pre></td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>krb4cred_en_us.dll</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'><pre wrap="">Kerberos 4 credentials provider plugin.</pre></td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>krb5cred.dll</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'><pre wrap="">English (US) language resources for the Keberos 4 credentials provider.</pre></td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>krb5cred_en_us.dll</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'><pre wrap="">Kerberos 5 credentials provider and identity provider plugin.</pre></td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>nidmgr32.dll</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'><pre wrap="">English (US) language resources for the Kerberos 5 credentials provider.</pre></td>
</tr>
</table>

<p>It is recommended that all binaries be installed into a single directory in
the user's PATH. Make sure that you do not have other Kerberos binaries in your
PATH.&nbsp; The default location is “%ProgramFiles%\MIT\Kerberos\bin”.</p>

<h3><!-- ---------------------------------------------------------------------- --><a
name="config_locate"></a>Locating Kerberos Configuration Files</h3>

<p>The simplest configuration is to put the <code><span style='font-size:10.0pt'>krb5.ini</span></code>,
<code><span style='font-size:10.0pt'>krb.con</span></code>, and <code><span
style='font-size:10.0pt'>krbrealm.con</span></code> configuration files in the
Windows directory (or in the same directory as the Kerberos DLLs).&nbsp; The
NSIS and WIX installers search for configuration files only in the Windows directory.</p>

<h4><!-- ---------------------------------------------------------------------- --><a
name="config_locate_krb5"></a>Kerberos 5</h4>

<p>Kerberos 5 needs a single configuration file: <code><span style='font-size:
10.0pt'>krb5.ini</span></code>. You can put it in the Windows directory;&nbsp;
or you can put it in the same directory as the DLL; or you can point to an
arbitrary file by setting the <code><span style='font-size:10.0pt'>KRB5_CONFIG</span></code>
environment variable.</p>

<h4><!-- ---------------------------------------------------------------------- --><a
name="config_locate_krb4"></a>Kerberos 4</h4>

<p>Kerberos 4 needs two configuration files, typically called <code><span
style='font-size:10.0pt'>krb.con</span></code> and <code><span
style='font-size:10.0pt'>krbrealm.con</span></code>. You can put these files in
the same directory as the DLL and everything should work. You can also set
KRB4_KRB.REALMS or KRB4_KRB.CONF to override each file. Or you can set
KRB4_CONFIG to force Kerberos 4 to look for both files in a particular
directory. If you do none of these, this is where Kerberos 4 will search: </p>

<ol style='margin-top:0pt' start=1 type=1>
<li class=MsoNormal>%NDIR%\kerb\
</li>
<li class=MsoNormal>The
current directory </li>
<li class=MsoNormal>The
Windows directory </li>
<li class=MsoNormal>The
Windows system directory </li>
<li class=MsoNormal>The
directory containing the executable file for the current task </li>
<li class=MsoNormal>The
directories in the path (<a href="#c1"><b>*</b></a>) </li>
<li class=MsoNormal>The
list of directories mapped in a network </li>
<li class=MsoNormal>%NDIR%\
</li>
<li class=MsoNormal>%ETC%\
</li>
</ol>

<p>(<a name=c1><b>*</b></a>) Note: If you put the files in the DLL's directory,
this part of the search is what will take you there. If you have another config
file earlier in the search, that will take precedence, so be careful.</p>

<h3><!-- ---------------------------------------------------------------------- --><a
name="config_modify"></a>Modifying Kerberos Configuration Files</h3>

<p><b>IMPORTANT</b>: The Network Identity Manager can be used to manage the Kerberos
5 and Kerberos 4 configuration files. NetIDMgr enforces a requirement that the
Realm, KDC, and Realm/DNS mapping information is equivalent for both Kerberos 4
and Kerberos 5.&nbsp; If this is not true for your Realms, you should not use
NetIDMgr to manage the configuration files.&nbsp; Instead use a text editor
such as Notepad.</p>

<h4><!-- ---------------------------------------------------------------------- --><a
name="config_modify_krb5"></a>Kerberos 5</h4>

<p>See the <a href="../../athena/auth/krb5/doc/admin.html#SEC17">krb5.conf</a> <a
href="http://web.mit.edu/kerberos/www/krb5-1.4/krb5-1.4.4/doc/krb5-admin.html#krb5.conf">(MIT
website)</a>section in the <a href="../../athena/auth/krb5/doc/admin_toc.html">Kerberos
v5 System Administrator's Guide</a> <a
href="http://web.mit.edu/kerberos/www/krb5-1.6/krb5-1.6/doc/krb5-admin.html">(MIT
website)</a>.</p>

<h4><a name="config_modify_krb4"></a>Kerberos 4</h4>

<p>It is anticipated that most sites using Kerberos version 4 on Windows also
will have an existing UNIX Kerberos infrastructure. For that reason, the format
of the <code><span style='font-size:10.0pt'>krb.con</span></code> is identical
to the UNIX <code><span style='font-size:10.0pt'>krb.conf</span></code> and the
format of <code><span style='font-size:10.0pt'>krbrealm.con</span></code>
identical to the UNIX <code><span style='font-size:10.0pt'>krb.realms</span></code>.
For many users, the easiest way to configure these files for use at their local
sites will be to ftp the corresponding files from a local UNIX machine that is
already properly configured. </p>

<p>The <code><span style='font-size:10.0pt'>krb.con</span></code> file contains
configuration information describing the Kerberos realm and the Kerberos key
distribution center (KDC) servers for known realms. </p>

<p><code><span style='font-size:10.0pt'>krb.con</span></code> contains the name
of the local realm in the first line, followed by lines indicating realm/host
entries. The first token is a realm name, and the second is a hostname of a
host running a KDC for that realm. The words &quot;admin server&quot; following
the hostname indicate that the host also provides an administrative database
server which is contacted when changing a user's password. For example: </p>

<pre>ATHENA.MIT.EDU</pre><pre>ATHENA.MIT.EDU kerberos.mit.edu admin server</pre><pre>ATHENA.MIT.EDU kerberos-1.mit.edu</pre><pre>ATHENA.MIT.EDU kerberos-2.mit.edu</pre><pre>LCS.MIT.EDU kerberos.lcs.mit.edu admin server</pre>

<p>If this were your <code><span style='font-size:10.0pt'>krb.con</span></code>
file and you wanted to change the default local realm to <code><span
style='font-size:10.0pt'>CIT.CORNELL.EDU</span></code> you would edit it to
look like: </p>

<pre>CIT.CORNELL.EDU</pre><pre>CIT.CORNELL.EDU kerberos.cit.cornell.edu admin server</pre><pre>ATHENA.MIT.EDU kerberos.mit.edu admin server</pre><pre>ATHENA.MIT.EDU kerberos-1.mit.edu</pre><pre>ATHENA.MIT.EDU kerberos-2.mit.edu</pre><pre>LCS.MIT.EDU kerberos.lcs.mit.edu admin server</pre>

<p>The <code><span style='font-size:10.0pt'>krbrealm.con</span></code> file is
the host-to-Kerberos realm translation file. This provides a translation from a
local hostname to the Kerberos realm name for the services provided by that
host. </p>

<p>Each line of the translation file is in one the following forms (domain_name
should be of the form <code><span style='font-size:10.0pt'>.XXX.YYY</span></code>,
e.g., <code><span style='font-size:10.0pt'>.LCS.MIT.EDU</span></code>): </p>

<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; host_name kerberos_realm</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; domain_name kerberos_realm</pre>

<p>If a hostname exactly matches the host_name field in a line of the first
form, the corresponding realm is the realm of the host. If a hostname does not
match any host_name in the file, but its domain exactly matches the domain_name
field in a line of the second form, the corresponding realm is the realm of the
host. </p>

<p style='margin-bottom:12.0pt'>If no translation entry applies, the host's
realm is considered to be the hostname's domain portion converted to uppercase.
<!-- ---------------------------------------------------------------------- --><a
name="config_dns"></a></p>

<h3>Using DNS Lookups for Kerberos Configuration</h3>

<h4>What is it?</h4>

<p>DNS lookups provide Kerberos the ability to determine the Kerberos Realm
that a host belongs to and to find the servers associated with a given Realm by
using the Domain Name Service instead of or in addition to local configuration
files. </p>

<h4>When are DNS Lookups used?</h4>

<p>DNS lookups are used in either of these two circumstances: </p>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>No <code><span
     style='font-size:10.0pt'>krb.con</span></code> file is found for Kerberos
4 or no <code><span style='font-size:10.0pt'>krb5.ini</span></code> file
is found for Kerberos 5. </li>
<li class=MsoNormal>The
<code><span style='font-size:10.0pt'>krb.con</span></code> file or <code><span
     style='font-size:10.0pt'>krb5.ini</span></code> file contains a command to
activate DNS Lookups and the lookup cannot be answered by data found in
the appropriate configuration file. </li>
</ul>

<p>To activate DNS lookups for Kerberos 4 when the <code><span
style='font-size:10.0pt'>krb.con</span></code> file is present, add the
following line to the file as a realm-to-host entry (usually to the end): </p>

<blockquote style='margin-top:5.0pt;margin-bottom:5.0pt'><pre>.KERBEROS.OPTION. dns</pre></blockquote>

<p>When DNS lookups are used, the first line in the <code><span
style='font-size:10.0pt'>krb.con</span></code> file (which would contain the
default realm) may be left blank to indicate that the default realm should be
determined by a DNS lookup. </p>

<p>To activate DNS lookups for Kerberos 5 when the <code><span
style='font-size:10.0pt'>krb5.ini</span></code> file is present, place: </p>

<blockquote style='margin-top:5.0pt;margin-bottom:5.0pt'><pre>dns_lookup_kdc = true</pre><pre>dns_lookup_realm = true</pre></blockquote>

<p>into the <code><span style='font-size:10.0pt'>[libdefaults]</span></code>
section. If a &quot;default_realm&quot; entry is not provided, a DNS lookup
will be performed to determine the default realm. </p>

<h4>What entries go into the DNS?</h4>

<p>Host to realm lookups are performed using DNS TXT records. Example records
are: </p>

<blockquote style='margin-top:5.0pt;margin-bottom:5.0pt'><pre>_kerberos.yclept.kermit.columbia.edu.&nbsp; IN TXT &quot;KRB5.COLUMBIA.EDU&quot;</pre><pre>_kerberos.columbia.edu.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IN TXT &quot;CC.COLUMBIA.EDU&quot;</pre></blockquote>

<p>Realm to server lookups are performed using DNS SRV records. Example records
are: </p>

<blockquote style='margin-top:5.0pt;margin-bottom:5.0pt'><pre style='margin-bottom:
12.0pt'>_kerberos._udp.KRB5.COLUMBIA.EDU.&nbsp;&nbsp;&nbsp; IN SRV 0 0 88&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; yclept.kermit.columbia.edu</pre><pre
style='margin-bottom:12.0pt'>_kerberos._tcp.KRB5.COLUMBIA.EDU.&nbsp;&nbsp;&nbsp; IN SRV 0 0 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .</pre><pre
style='margin-bottom:12.0pt'>_krb524._udp.KRB5.COLUMBIA.EDU.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IN SRV 0 0 4444&nbsp;&nbsp; yclept.kermit.columbia.edu</pre><pre
style='margin-bottom:12.0pt'>_kerberos-iv._udp.KRB5.COLUMBIA.EDU. IN SRV 0 0 750&nbsp;&nbsp;&nbsp;&nbsp; yclept.kermit.columbia.edu</pre><pre
style='margin-bottom:12.0pt'>_kerberos-adm._tcp.KRB5.COLUMBIA.EDU IN SRV 0 0 749&nbsp;&nbsp;&nbsp;&nbsp; yclept.kermit.columbia.edu</pre><pre
style='margin-bottom:12.0pt'>_kpasswd._udp.KRB5.COLUMBIA.EDU&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IN SRV 0 0 464&nbsp;&nbsp;&nbsp;&nbsp; yclept.kermit.columbia.edu</pre></blockquote>

<p>A DNS SRV record which specifies a port of &quot;0&quot; and a hostname of
&quot;.&quot; indicates that the requested service is not available in the
requested realm. </p>

<h3><!-- ---------------------------------------------------------------------- --><a
name="config_services"></a>Services File</h3>

<p>The Kerberos DLLs need to know what port to use to talk to the Kerberos
server. Kerberos 4 now defaults to ports 750 (kerberos 750/udp kdc) and 751
(kerberos-master 751/tcp) if there are no kerberos or kerberos-master entries
in the services file. Kerberos 5 also has proper defaults (port 88 with a
fallback to 750) in case the services file is missing the entries for kerberos
and kerberos-sec. </p>

<p>If your site uses non-standard ports, you will still need a services file
appropriate for your site.</p>

<h3><!-- ---------------------------------------------------------------------- --><a
name="config_cache"></a>Ticket Cache</h3>

<p>The default for both Kerberos 4 and 5 is to store credentials in memory. </p>

<p>You can specify the name of the ticket file and the directory in which it is
stored via the environment variables <code><span style='font-size:10.0pt'>KRBTKFILE</span></code>
(krb4) and <code><span style='font-size:10.0pt'>KRB5CCNAME</span></code>
(krb5). The krb4 credentials are always stored in memory. In memory credential
caches have a prefix of &quot;API:&quot; in front of the name. </p>

<p>There are also registry settings for these locations. Playing with Leash
will reveal where they are (look in HKCU\Software\MIT\Kerberos4 and Kerberos5).
You can set machine-wide values by playing with these settings in HKLM. </p>

<p>Kerberos 5 does support using file-based tickets, but their use is not
recommend, as they are potentially less secure.<a name="config_time"></a></p>

<h3>Date and Time Issues</h3>

<p>Kerberos authentication uses time stamps as part of its protocol. When the
clocks of the Kerberos server and your computer are too far out of
synchronization, you cannot authenticate properly. Both the Kerberos server and
the Kerberos client depend on having clocks that are synchronized within a
certain margin. This margin is normally 5 minutes. </p>

<p>The date and time on the machine running Kerberos must be
&quot;accurately&quot; set. If the date or time is off &quot;too far&quot;,
Kerberos authentication will not work. </p>

<p>You can synchronize your clock using Leash32. It allows you to set the name
of the host to which you will synchronize. It saves this information in the
registry (under HKCU\Software\MIT\Leash32 -- you can set machine-wide defaults
in HKLM). </p>

<p>By default, the server that the libraries contact when synchronizing the
time is <code><span style='font-size:10.0pt'>time</span></code>. The domain
name has been left off on purpose. If local system administrators create a
machine with a CNAME of time within the local domain the clients will contact
this machine by default. </p>

<p>If local system administrators are opposed to doing this for some reason,
you can edit the resource <code><span style='font-size:10.0pt'>LSH_TIME_HOST</span></code>
in the <code><span style='font-size:10.0pt'>leashw32.dll</span></code> to the
name appropriate for your local site. You can also edit the header files from
the source distribution and recompile for your local site. However, this is not
recommended. You can also tweak the registry setting Leash32 uses. </p>

<p>You can also avoid this problem by running a local, properly configured, NTP
program on your machine. <!-- ---------------------------------------------------------------------- --></p>

<div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>

<h2><a name="command_line"></a>Command Line Options</h2>

<h3><a name=leash32></a>netidmgr</h3>

<p>The command line options for <b>netidmgr</b> are: </p>

<pre style='margin-left:30.0pt'>--kinit, -i&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; only perform a kinit and then exit</pre><pre
style='margin-left:30.0pt'>--ms2mit, -import, -m&nbsp;&nbsp;&nbsp;&nbsp; only perform a ms2mit import and then exit</pre><pre
style='margin-left:30.0pt'>--renew, -r&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; only perform a credential renewal and then exit</pre><pre
style='margin-left:30.0pt'>--destroy, -d&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; only perform a kdestroy and then exit</pre><pre
style='margin-left:30.0pt'>--autoinit, -a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; perform a kinit if credential cache is empty</pre><pre
style='margin-left:30.0pt'>--exit, -x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; shutdown any running instance of netidmgr</pre>

<h3><a name=kinit></a>kinit</h3>

<pre style='margin-left:30.0pt'>Usage: kinit [-5] [-4] [-V] [-l lifetime] [-s start_time]</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-r renewable_life] [-f | -F | --forwardable | --noforwardable]</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-p | -P | --proxiable | --noproxiable]</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-A | --addresses | --noaddresses]</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-v] [-R] [-k [-t keytab_file]]</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-c cachename] [-S service_name] [principal]</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp; options:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valid with Kerberos:</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp; -5 Kerberos 5 (available)</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp; -4 Kerberos 4 (available)</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp; &nbsp;&nbsp; (Default behavior is to try Kerberos 5)</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp; -V verbose&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Either 4 or 5</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp; -l lifetime&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;Either 4 or 5</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp; -s start time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp; -r renewable lifetime&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp; -f forwardable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp; -F not forwardable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp; -p proxiable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp; -P not proxiable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp; -A do not include addresses&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp; -v validate&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp; -R renew&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5, or both 5 and 4</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp; -k use keytab&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5, or both 5 and 4</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp; -t filename of keytab to use&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5, or both 5 and 4</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp; -c Kerberos 5 cache name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp; -S service&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5, or both 5 and 4</pre>

<h3><a name=klist></a>klist</h3>

<pre style='margin-left:30.0pt'>Usage: klist.exe [-5] [-4] [-e] [[-c] [-C] [-f] [-s] [-a [-n]]] [-k [-t] [-K]] [name]</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -5 Kerberos 5 (available)</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -4 Kerberos 4 (available)</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (Default is Kerberos 5)</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -c specifies credentials cache</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp; -C enumerates all credentials caches</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -k specifies keytab</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (Default is credentials cache)</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -e shows the encryption type</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; options for credential caches:</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -f shows credentials flags</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -s sets exit status based on valid tgt existence</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -a displays the address list</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -n do not reverse-resolve</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; options for keytabs:</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -t shows keytab entry timestamps</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -K shows keytab entry DES keys</pre>

<h3><a name=kdestroy></a>kdestroy</h3>

<pre style='margin-left:30.0pt'>Usage: kdestroy.exe [-5] [-4] [-q] [-c cache_name]</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -5 Kerberos 5 (available)</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -4 Kerberos 4 (available)</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (Default is Kerberos 5 and Kerberos 4)</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -q quiet mode</pre><pre
style='margin-left:30.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -c specify name of credentials cache</pre>

<p class=MsoNormal>&nbsp;</p>

<div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>

<h2><a name=build>Building from Sources</a></h2>

<p>Building KfW is supported on Windows 2000, Windows XP, Windows 2003 and
Windows Vista.</p>

<p>First, make sure that you have a Microsoft Visual .NET 2003 C++ compiler, a
recent release of the <a
href="http://www.microsoft.com/msdownload/platformsdk/sdkupdate/">Microsoft
Platform SDK</a> (XP SP2 SDK should be used if Windows 2000 support is desired,
the NTSecAPI.H file from the Vista SDK must be used in place of the XP SP2 SDK
version if Vista MSLSA ccache extensions are to be supported), <a
href="http://www.activestate.com/">ActiveState Perl</a> (build 820 is known to
work), <a href="http://www.doxygen.org/" title="http://www.doxygen.org">doxygen</a>,
sed, gawk, cat, and rm in your PATH. You can get sed, gawk, cat, and rm from
the <a href="http://cygwin.com/">Cygwin distribution</a>. Also make sure that
your INCLUDE path includes the Microsoft Platform SDK before the Microsoft
Visual C++ include files and that perl has been installed so that .pl files are
automatically executed with perl. You will also need to be using the default
system shell (cmd.exe) so that the Makefiles work properly. </p>

<p>Microsoft Visual Studio 2005 cannot be used to compile the KfW CCAPI
implementation.  In order to compile KfW
with VS2005, the “krbcc” directory must be removed from the <i>pismire/athena/auth/Makefile.dir</i> file.  When built without CCAPI, only the MSLSA: and
FILE: credential cache types will be available for use.</p>

<p align=center style='text-align:center'><b><span
style='color:red'>Note that all KFW installers contain debugging symbols as an
optional component.  Rebuilding from
sources is not required in order to debug KFW as packaged by MIT.</span></b></p>

<p>A script to build, sign and package all the KfW distribution components is
provided.&nbsp; To use it:</p>

<div>

<ul type=disc>
<li class=MsoNormal>Unzip the KfW source zip</li>
</ul>

</div>

<div>

<ul type=disc>
<li class=MsoNormal>cd to kfw-<em>version</em>/src/athena/auth/krb5/src/windows/build</li>
</ul>

</div>

<div>

<ul type=disc>
<li class=MsoNormal>Make sure the environment
is set up as specified in bkw-automation.html</li>
</ul>

</div>

<div>

<ul type=disc>
<li class=MsoNormal>Run &quot;bkw.pl /config
bkwconfig.xml&quot;&nbsp; </li>
</ul>

</div>

<p>See the usage (bkw.pl /?) and krb5/windows/build/bkw-automation.html for
more details.</p>

<div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>

<h2><a name="installer_notes"></a>Notes on the NSIS Installer scripts</h2>

<p class=MsoNormal>The Kerberos for Windows installer is built using the <a
href="http://nsis.sourceforge.net/site/index.php">Nullsoft Scriptable
Installation System</a> Version 2.0.&nbsp; The source files for the installer
script are included as part of the KfW SDK component.&nbsp; These include:</p>

<table class=MsoNormalTable border=1 cellpadding=0 width=699 style='width:524.25pt;
 '>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>Edit</p>
</td>
<td width="20%" valign=top style='width:20.0%;padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal><u>File Name</u></p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal><u>Description</u></p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal align=center style='text-align:center'>N</p>
</td>
<td width="20%" valign=top style='width:20.0%;padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>kfw.nsi</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>Top level install script</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal align=center style='text-align:center'>N</p>
</td>
<td width="20%" valign=top style='width:20.0%;padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>kfw-fixed.nsi</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>script containing kfw install functions</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal align=center style='text-align:center'>N</p>
</td>
<td width="20%" valign=top style='width:20.0%;padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>utils.nsi</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>script containing general purpose nsis functions useful to
other installers</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal align=center style='text-align:center'>Y</p>
</td>
<td width="20%" valign=top style='width:20.0%;padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>site-local.nsi</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>script containing site local definitions detailing how the
distribution was compiled and where the source binaries are to be found</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal align=center style='text-align:center'>N</p>
</td>
<td width="20%" valign=top style='width:20.0%;padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>KfWConfigPage.ini</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>page layout information for the first configuration page</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal align=center style='text-align:center'>N</p>
</td>
<td width="20%" valign=top style='width:20.0%;padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>KfWConfigPage2.ini</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>page layout information for the second configuration page</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal align=center style='text-align:center'>N</p>
</td>
<td width="20%" valign=top style='width:20.0%;padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>licenses.rtf</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>Kerberos 5 and Kerberos for Windows License text </p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal align=center style='text-align:center'>N</p>
</td>
<td width="20%" valign=top style='width:20.0%;padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>kfw.ico</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>Kerberos for Windows icon file</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal align=center style='text-align:center'>N</p>
</td>
<td width="20%" valign=top style='width:20.0%;padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>killer.cpp</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>Source code to executable used to terminate running
programs during uninstall</p>
</td>
</tr>
</table>

<p class=MsoNormal><br>
To build an installer the site-local.nsi file must be modified to specify the
appropriate values for the source files and type of installer you wish to
build. </p>

<table class=MsoNormalTable border=1 cellpadding=0 width="100%"
 style='width:100.0%;'>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>Name</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>Default Value</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>Description</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>KFW_TARGETDIR</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>path to directory containing the subdirectories (bin\i386,
lib\i386, doc, inc, install) where the target files may be found</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>KFW_CONFIG_DIR</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>path to directory containing config files (krb5.ini, krb.con,
krbrealm.con) to be bundled with installer</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>KFW_MAJORVERSION</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>3</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>Major Version number of the installed files</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>KFW_MINORVERSION</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>2</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>Minor Version number of the installed files</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>KFW_PATCHLEVEL</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>0000</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>Four digit patchlevel of the installed files</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>SAMPLE_CONFIG_REALM</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>ATHENA.MIT.EDU</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>Default realm specified in the bundled configuration files</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>HTTP_CONFIG_URL</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>Default URL for obtaining config files via HTTP</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>must define one of:</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>CL_1200</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>Indicator that MSVC 6.0 was used to build the binaries</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>CL_1300</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>Indicator that MSVS .NET was used to build the binaries</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>CL_1310</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>Indicator that MSVS .NET 2003 was used to build the
binaries</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>CL_1400</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>Indicator that MSVS 2005 was used to build the binaries</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>define at most one of:</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>if neither are specified, a time stamped installer
containing release versions of the runtime components.</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>RELEASE</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>Indicates that a release installer is being built.&nbsp;
Installer includes release versions of the runtime components.</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>DEBUG</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>Indicates that a debug installer is being built.&nbsp;
Installer includes debug versions of runtime components.</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>optional defines:</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
</tr>
<tr>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>BETA</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>&nbsp;</p>
</td>
<td valign=top style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
<p class=MsoNormal>A numeric beta version number</p>
</td>
</tr>
</table>

<p class=MsoNormal><br>
To build an installer execute the following steps:</p>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>cl.exe
killer.cpp advapi32.lib</li>
<li class=MsoNormal>&quot;%PROGRAMFILES%\nsis\makensis.exe&quot;
kfw.nsi</li>
</ul>

<p class=MsoNormal>It is worth noting that the &quot;makensis.exe&quot; used to
build the MIT distributed installer was built from the NSIS sources with three
modifications to the NSIS\Source\exehead\config.h file:</p>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>NSIS_MAX_STRLEN
is defined to be 4096 to support systems with very long PATH environment
variables</li>
<li class=MsoNormal>NSIS_CONFIG_LOG
is defined</li>
<li class=MsoNormal>NSIS_CONFIG_LOG_ODS
is defined</li>
</ul>

<p class=MsoNormal>The installer constructs the following registry keys for
maintaining version and module specific information:</p>

<pre style='margin-left:30.0pt'>Key Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HKEY_LOCAL_MACHINE\SOFTWARE\MIT\Kerberos</pre><pre
style='margin-left:30.0pt'>Class Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;NO CLASS&gt;</pre><pre
style='margin-left:30.0pt'>Last Write Time:&nbsp;&nbsp; 1/15/2004 - 9:59 PM</pre><pre
style='margin-left:30.0pt'>Value 0</pre><pre style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; InstallDir</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C:\Program Files\MIT\Kerberos</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 1</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Installer Language</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1033</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>&nbsp;</pre><pre
style='margin-left:30.0pt'>Key Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HKEY_LOCAL_MACHINE\SOFTWARE\MIT\Kerberos\Client</pre><pre
style='margin-left:30.0pt'>Class Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;NO CLASS&gt;</pre><pre
style='margin-left:30.0pt'>Last Write Time:&nbsp;&nbsp; 1/31/2004 - 3:47 AM</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Key Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HKEY_LOCAL_MACHINE\SOFTWARE\MIT\Kerberos\Client\3.1</pre><pre
style='margin-left:30.0pt'>Class Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;NO CLASS&gt;</pre><pre
style='margin-left:30.0pt'>Last Write Time:&nbsp;&nbsp; 1/31/2004 - 3:47 AM</pre><pre
style='margin-left:30.0pt'>Value 0</pre><pre style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VersionString</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.1</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 1</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Title</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; KfW</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 2</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Description</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Kerberos for Windows</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 3</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PathName</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C:\Program Files\MIT\Kerberos</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 4</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Software Type</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Authentication</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 5</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MajorVersion</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_DWORD</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x2</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 6</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MinorVersion</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_DWORD</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x6</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 7</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PatchLevel</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_DWORD</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x0</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 8</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AllowTGTSessionKeyBackup</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_DWORD</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x1</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 9</pre><pre
style='margin-left:30.0pt'> &nbsp;Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AllowTGTSessionKeyBackupXP</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_DWORD</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x1</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>&nbsp;</pre><pre
style='margin-left:30.0pt'>Key Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HKEY_LOCAL_MACHINE\SOFTWARE\MIT\Kerberos\Client\CurrentVersion</pre><pre
style='margin-left:30.0pt'>Class Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;NO CLASS&gt;</pre><pre
style='margin-left:30.0pt'>Last Write Time:&nbsp;&nbsp; 1/31/2004 - 3:47 AM</pre><pre
style='margin-left:30.0pt'>Value 0</pre><pre style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VersionString</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.1</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 1</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Title</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; KfW</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 2</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Description</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Kerberos for Windows</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 3</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PathName</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C:\Program Files\MIT\Kerberos</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 4</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Software Type</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Authentication</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 5</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MajorVersion</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_DWORD</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x3</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 6</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MinorVersion</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_DWORD</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x0</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 7</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PatchLevel</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_DWORD</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x0</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>&nbsp;</pre><pre
style='margin-left:30.0pt'>Key Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HKEY_LOCAL_MACHINE\SOFTWARE\MIT\Kerberos\Documentation</pre><pre
style='margin-left:30.0pt'>Class Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;NO CLASS&gt;</pre><pre
style='margin-left:30.0pt'>Last Write Time:&nbsp;&nbsp; 1/31/2004 - 3:47 AM</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Key Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HKEY_LOCAL_MACHINE\SOFTWARE\MIT\Kerberos\Documentation\3.0</pre><pre
style='margin-left:30.0pt'>Class Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;NO CLASS&gt;</pre><pre
style='margin-left:30.0pt'>Last Write Time:&nbsp;&nbsp; 1/31/2004 - 3:47 AM</pre><pre
style='margin-left:30.0pt'>Value 0</pre><pre style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VersionString</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.1</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 1</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Title</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; KfW</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 2</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Description</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Kerberos for Windows</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 3</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PathName</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C:\Program Files\MIT\Kerberos</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 4</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Software Type</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;Authentication</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 5</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MajorVersion</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_DWORD</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x3</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 6</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MinorVersion</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_DWORD</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x0</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 7</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PatchLevel</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;REG_DWORD</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x0</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>&nbsp;</pre><pre
style='margin-left:30.0pt'>Key Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HKEY_LOCAL_MACHINE\SOFTWARE\MIT\Kerberos\Documentation\CurrentVersion</pre><pre
style='margin-left:30.0pt'>Class Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;NO CLASS&gt;</pre><pre
style='margin-left:30.0pt'>Last Write Time:&nbsp;&nbsp; 1/31/2004 - 3:47 AM</pre><pre
style='margin-left:30.0pt'>Value 0</pre><pre style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VersionString</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.1</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 1</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Title</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; KfW</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 2</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Description</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Kerberos for Windows</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 3</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PathName</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C:\Program Files\MIT\Kerberos</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 4</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Software Type</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Authentication</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 5</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MajorVersion</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_DWORD</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x3</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 6</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MinorVersion</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_DWORD</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x1</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 7</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PatchLevel</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_DWORD</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x0</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>&nbsp;</pre><pre
style='margin-left:30.0pt'>Key Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HKEY_LOCAL_MACHINE\SOFTWARE\MIT\Kerberos\SDK</pre><pre
style='margin-left:30.0pt'>Class Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;NO CLASS&gt;</pre><pre
style='margin-left:30.0pt'>Last Write Time:&nbsp;&nbsp; 1/31/2004 - 3:47 AM</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Key Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HKEY_LOCAL_MACHINE\SOFTWARE\MIT\Kerberos\SDK\3.0</pre><pre
style='margin-left:30.0pt'>Class Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;NO CLASS&gt;</pre><pre
style='margin-left:30.0pt'>Last Write Time:&nbsp;&nbsp; 1/31/2004 - 3:47 AM</pre><pre
style='margin-left:30.0pt'>Value 0</pre><pre style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VersionString</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.1</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 1</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Title</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; KfW</pre><pre
style='margin-left:30.0pt'>Value 2</pre><pre style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Description</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Kerberos for Windows</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 3</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PathName</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C:\Program Files\MIT\Kerberos</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 4</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Software Type</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Authentication</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 5</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MajorVersion</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;REG_DWORD</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x3</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 6</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MinorVersion</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_DWORD</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x1</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 7</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PatchLevel</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_DWORD</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x0</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>&nbsp;</pre><pre
style='margin-left:30.0pt'>Key Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HKEY_LOCAL_MACHINE\SOFTWARE\MIT\Kerberos\SDK\CurrentVersion</pre><pre
style='margin-left:30.0pt'>Class Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;NO CLASS&gt;</pre><pre
style='margin-left:30.0pt'>Last Write Time:&nbsp;&nbsp; 1/31/2004 - 3:47 AM</pre><pre
style='margin-left:30.0pt'>Value 0</pre><pre style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VersionString</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.1</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 1</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Title</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; KfW</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 2</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Description</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Kerberos for Windows</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 3</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PathName</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C:\Program Files\MIT\Kerberos</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 4</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Software Type</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_SZ</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Authentication</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 5</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MajorVersion</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_DWORD</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x3</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 6</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MinorVersion</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;REG_DWORD</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x1</pre><pre
style='margin-left:30.0pt'>&nbsp;</pre><pre style='margin-left:30.0pt'>Value 7</pre><pre
style='margin-left:30.0pt'>&nbsp; Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PatchLevel</pre><pre
style='margin-left:30.0pt'>&nbsp; Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REG_DWORD</pre><pre
style='margin-left:30.0pt'>&nbsp; Data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x0</pre>

<p class=MsoNormal>&nbsp;</p>

<div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>

<h2><a name=issues></a>Known Issues</h2>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>The
Kerberos Credentials Cache implementation does not support locking across
calls. Each call is atomic, however. </li>
<li class=MsoNormal>If
the krbcc32s LRPC server process is ever terminated while another process
is supposed to have a valid handle to it, the other process will need to
grab new handles. The moral of the story is: do not kill krbcc32s if you
have any such processes around (e.g., if Leash is running). In fact, you
generally should never have to kill krbcc32s. </li>
<li class=MsoNormal>If
writing a server that uses Kerberos and might use the Kerberos Credentials
Cache as opposed to the Kerberos v5 file credentials cache (<code><span
     style='font-size:10.0pt'>FILE:</span></code>), please read the <a
     href="../../athena/auth/krbcc/doc/architecture.txt">krbcc32 Architecture</a>
documentation. (krbcc32 Architecture link works only if this is the source
package.)</li>
</ul>

<h2><a name="leashw32_api"></a>Leashw32 API</h2>

<p class=MsoNormal>The list of functions exported from Leashw32.dll which may
be used by third party developers is specified below.&nbsp; Every effort is
made to ensure that these functions will remain backward compatible in future
releases.&nbsp; However, no effort is made to ensure that subsequent releases
of Leashw32.dll will maintain consistent entry point values.&nbsp; The header
file describing these functions is located in the source tree at&nbsp; <b>pismere/athena/auth/leash/include/leashwin.h</b>
or in the SDK at <b>inc/leash/leashwin.h</b>.</p>

<pre>Leash_kinit_dlg</pre><pre>Leash_kinit_dlg_ex</pre><pre>Leash_changepwd_dlg</pre><pre>Leash_changepwd_dlg_ex</pre><pre>Leash_kinit</pre><pre>Leash_kinit_ex</pre><pre>Leash_kdestroy</pre><pre>Leash_klist</pre><pre>Leash_checkpwd</pre><pre>Leash_changepwd</pre><pre>Leash_import</pre><pre>Leash_importable</pre><pre>Leash_renew</pre><pre>Leash_reset_defaults</pre><pre>Leash_timesync</pre><pre>Leash_get_default_lifetime</pre><pre>Leash_set_default_lifetime</pre><pre>Leash_reset_default_lifetim</pre><pre>Leash_get_default_renew_till</pre><pre>Leash_set_default_renew_till</pre><pre>Leash_reset_default_renew_till</pre><pre>Leash_get_default_forwardable</pre><pre>Leash_set_default_forwardable</pre><pre>Leash_reset_default_forwardable</pre><pre>&nbsp;</pre><pre>Leash_get_default_renewable</pre><pre>Leash_set_default_renewable</pre><pre>Leash_reset_default_renewable</pre><pre>&nbsp;</pre><pre>Leash_get_default_noaddresses</pre><pre>Leash_set_default_noaddresses</pre><pre>Leash_reset_default_noaddresses</pre><pre>&nbsp;</pre><pre>Leash_get_default_proxiable</pre><pre>Leash_set_default_proxiable</pre><pre>Leash_reset_default_proxiable</pre><pre>&nbsp;</pre><pre>Leash_get_default_publicip</pre><pre>Leash_reset_default_publicip</pre><pre>Leash_get_default_use_krb4</pre><pre>Leash_set_default_use_krb4</pre><pre>&nbsp;</pre><pre>Leash_reset_default_use_krb4</pre><pre>Leash_get_default_life_min</pre><pre>Leash_set_default_life_min</pre><pre>Leash_reset_default_life_min</pre><pre>&nbsp;</pre><pre>Leash_get_default_life_max</pre><pre>Leash_set_default_life_max</pre><pre>Leash_reset_default_life_max</pre><pre>&nbsp;</pre><pre>Leash_get_default_renew_min</pre><pre>Leash_set_default_renew_min</pre><pre>Leash_reset_default_renew_min</pre><pre>&nbsp;</pre><pre>Leash_get_default_renew_max</pre><pre>Leash_set_default_renew_max</pre><pre>Leash_reset_default_renew_max</pre><pre>&nbsp;</pre><pre>Leash_get_lock_file_locations</pre><pre>Leash_set_lock_file_locations</pre><pre>Leash_reset_lock_file_locations</pre><pre>&nbsp;</pre><pre>Leash_get_default_uppercaserealm</pre><pre>&nbsp;</pre><pre>Leash_set_default_uppercaserealm</pre><pre>&nbsp;</pre><pre>Leash_reset_default_uppercaserealm</pre><pre>&nbsp;</pre><pre>Leash_get_default_mslsa_import</pre><pre>&nbsp;</pre><pre>Leash_set_default_mslsa_import</pre><pre>&nbsp;</pre><pre>Leash_reset_default_mslsa_import</pre><pre>&nbsp;</pre><pre>Leash_get_default_preserve_kinit_settings</pre><pre>&nbsp;</pre><pre>Leash_set_default_preserve_kinit_settings</pre><pre>&nbsp;</pre><pre>Leash_reset_default_preserve_kinit_settings</pre><pre>&nbsp;</pre><pre>Leash_get_lsh_errno</pre><pre>initialize_lsh_error_table</pre><pre>lsh_com_err_proc</pre><pre>Leash_initialize_krb_error_func</pre><pre>Leash_initialize_kadm_error_table</pre><pre>Leash_krb_err_func</pre><pre>Leash_load_com_err_callback</pre><pre>Leash_set_help_file</pre><pre>Leash_get_help_file</pre>

<h2><a name="devnotes_registry"></a>Registry and Environment Settings</h2>

<p class=MsoNormal><b>Network Identity Manager Settings</b></p>

<p>Configuration options for Network Identity Manager (NetIDMgr) are stored in
the Windows registry.&nbsp; Each option can exist in the user registry hive or
the machine registry hive or both.&nbsp; The value defined in the user hive
always overrides the value defined in the machine registry hive.&nbsp; All
registry keys used by NetIDMgr exist under the key <b>Software\MIT\NetIDMgr</b>
under the user and machine hive.&nbsp; </p>

<p><i><u>Common settings for NetIDMgr</u></i></p>

<p>The following sections describe a partial list of options that can be
specified for NetIDMgr.&nbsp; Each set of options is described as a set of
registry values.&nbsp; Each section is preceded by the registry key under which
the values of that section must be specified.</p>

<p><i><u>General settings</u></i></p>

<pre>&nbsp;&nbsp;&nbsp; Registry key: 'Software\MIT\NetIDMgr\CredWindow'</pre><pre>&nbsp;&nbsp;&nbsp; --------------</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : AutoInit</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD&nbsp; (0 or 1)</pre><pre>&nbsp;&nbsp;&nbsp; Default : 0</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If this value is '1', shows the new credentials dialog if</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; there are no credentials when NetIDMgr starts.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : AutoImport</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD&nbsp; (0 or 1)</pre><pre>&nbsp;&nbsp;&nbsp; Default : 1</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If '1', imports credentials from the Windows LSA cache when</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NetIDMgr starts.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : AutoDetectNet</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD&nbsp; (0 or 1)</pre><pre>&nbsp;&nbsp;&nbsp; Default : 1</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If '1', automatically detects network connectivity changes.</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Network connectivity change notifications are then sent out to</pre><pre>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;individual plug-ins which can perform actions such as renewing</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; credentials or obtaining new credentials.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : DestroyCredsOnExit</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD&nbsp; (0 or 1)</pre><pre>&nbsp;&nbsp;&nbsp; Default : 0</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If '1', all credentials will be destroyed when NetIDMgr exits.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : KeepRunning</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD&nbsp; (0 or 1)</pre><pre>&nbsp;&nbsp;&nbsp; Default : 1</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If '1', when NetIDMgr application is closed, it will continue</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; to run in the Windows System Notification Area (System Tray).</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The application can be exited by choosing the 'Exit' menu</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; option.&nbsp; If '0', closing the application will cause it to</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exit completely.</pre><pre>&nbsp;</pre>

<p class=MsoNormal><i><u>Common Plug-in settings</u></i></p>

<pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Registry key: 'Software\MIT\NetIDMgr\PluginManager\Plugins\&lt;plug-in name&gt;'</pre><pre>&nbsp;&nbsp;&nbsp; --------------</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; The '&lt;plug-in name&gt;' is one of the following for the standard plug-ins :</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Krb5Cred : Kerberos 5 credentials provider</pre><pre>&nbsp;&nbsp;&nbsp; Krb5Ident: Kerberos 5 Identity provider</pre><pre>&nbsp;&nbsp;&nbsp; Krb4Cred : Kerberos 4 credentials provider</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Consult the vendors for the plug-in names of other third party</pre><pre>&nbsp;&nbsp;&nbsp; plug-ins.&nbsp; Additionally, the plug-ins configuration panel in the</pre><pre>&nbsp;&nbsp;&nbsp; NetIDMgr application provides a list of currently registered</pre><pre>&nbsp;&nbsp;&nbsp; plug-ins.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : Disabled</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD (0 or 1)</pre><pre>&nbsp;&nbsp;&nbsp; Default : 0</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If '1', the plug-in will not be loaded.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : NoUnload</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD (0 or 1)</pre><pre>&nbsp;&nbsp;&nbsp; Default : 0</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If '1', the plug-in will not be unloaded from memory when the</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NetIDMgr application exits or if the plug-in is stopped.&nbsp; The</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; plug-in binary will remain loaded until NetIDMgr terminates.</pre><pre>&nbsp;</pre>

<p class=MsoNormal><i><u>Settings for the Kerberos 5 credentials provider
plug-in</u></i></p>

<pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Registry key: 'Software\MIT\NetIDMgr\PluginManager\Plugins\Krb5Cred\Parameters'</pre><pre>&nbsp;&nbsp;&nbsp; --------------</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : CreateMissingConfig</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD (0 or 1)</pre><pre>&nbsp;&nbsp;&nbsp; Default : 0</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If '1', creates any missing configuration files.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : MsLsaImport</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD (0, 1 or 2)</pre><pre>&nbsp;&nbsp;&nbsp; Default : 1</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Controls how credentials are imported from the MSLSA cache.</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; This setting can be one of the following.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 : Never</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 : Always</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 : Only if the principal matches</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Note that this setting only controls how the Kerberos 5</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; plug-in handles importing of credentials from the MSLSA cache.</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Whether or not credentials are imported at start-up is</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; controlled via general NetIDMgr settings as described in</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; section 3.1.1.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : MsLsaList</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD (0 or 1)</pre><pre>&nbsp;&nbsp;&nbsp; Default : 1</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If '1', includes credentials from the MSLSA cache in the</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; credentials listing.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : AutoRenewTickets</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD (0 or 1)</pre><pre>&nbsp;&nbsp;&nbsp; Default : 1</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If '1', automatically renews expiring tickets.&nbsp; The thresholds</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at which renewals happen are controlled in general NetIDMgr</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; settings.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : UseFullRealmList</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD (0 or 1)</pre><pre>&nbsp;&nbsp;&nbsp; Default : 0</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If '1', uses the full realms list as determined by parsing the</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; krb5.ini configuration file in the new credentials dialog box.</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If this is '0', only the last recently used list of realms</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; will be used.</pre><pre>&nbsp;</pre>

<p class=MsoNormal><i><u>Per-identity settings</u></i></p>

<pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Registry key 1: 'Software\MIT\NetIDMgr\KCDB\Identity\&lt;principal name&gt;\Krb5Cred'</pre><pre>&nbsp;&nbsp;&nbsp; Registry key 2: 'Software\MIT\NetIDMgr\PluginManager\Plugins\Krb5Cred\Parameters\Realms\&lt;realm&gt;'</pre><pre>&nbsp;&nbsp;&nbsp; Registry key 3: 'Software\MIT\NetIDMgr\PluginManager\Plugins\Krb5Cred\Parameters'</pre><pre>&nbsp;&nbsp;&nbsp; --------------</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; These settings are generally maintained per-identity.&nbsp; However, if</pre><pre>&nbsp;&nbsp;&nbsp; a particular setting is not specified for an identity or if the</pre><pre>&nbsp;&nbsp;&nbsp; identity is new, then the values will be looked up in the</pre><pre>&nbsp;&nbsp;&nbsp; per-realm configuration key and in the global parameters key in</pre><pre>&nbsp;&nbsp;&nbsp; turn.&nbsp; Global defaults should be set in the global parameters key</pre><pre>&nbsp;&nbsp;&nbsp; (key 3).</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : DefaultLifetime</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD</pre><pre>&nbsp;&nbsp;&nbsp; Default : 36000</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Default ticket lifetime, in seconds.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : MaxLifetime</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD</pre><pre>&nbsp;&nbsp;&nbsp; Default : 86400</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Maximum lifetime, in seconds.&nbsp; This value is used to set the</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; range of the user interface controls that allow setting the</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lifetime of a ticket.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : MinLifetime</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD</pre><pre>&nbsp;&nbsp;&nbsp; Default : 60</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Minimum lifetime, in seconds.&nbsp; This value is used to set the</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; range of the user interface controls that allow setting the</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lifetime of a ticket.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : Forwardable</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp; &nbsp;&nbsp;: DWORD (0 or 1)</pre><pre>&nbsp;&nbsp;&nbsp; Default : 1</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Obtain forwardable tickets.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : Proxiable</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD (0 or 1)</pre><pre>&nbsp;&nbsp;&nbsp; Default : 0</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Obtain proxiable tickets.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : Addressless</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD (0 or 1)</pre><pre>&nbsp;&nbsp;&nbsp; Default : 1</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;Obtain addressless tickets.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : Renewable</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD (0 or 1)</pre><pre>&nbsp;&nbsp;&nbsp; Default : 1</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Obtain renewable tickets.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : DefaultRenewLifetime</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD</pre><pre>&nbsp;&nbsp;&nbsp; Default : 604800</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Default renewable lifetime, in seconds.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : MaxRenewLifetime</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD</pre><pre>&nbsp;&nbsp;&nbsp; Default : 2592000</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Maximum renewable lifetime, in seconds.&nbsp; The value is used to</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set the range of the user interface controls that allow</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setting the renewable lifetime of a ticket.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : MinRenewLifetime</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD</pre><pre>&nbsp;&nbsp;&nbsp; Default : 60</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Minimum renewable lifetime, in seconds.&nbsp; This value is used to</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set the range of the user interface controls that allow</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;setting the renewable lifetime of a ticket.</pre><pre>&nbsp;</pre>

<p class=MsoNormal><i><u>Settings for the Kerberos 4 Credentials Provider
Plug-in</u></i></p>

<pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Registry key 1: 'Software\MIT\NetIDMgr\KCDB\Identity\&lt;principal name&gt;\Krb4Cred'</pre><pre>&nbsp;&nbsp;&nbsp; Registry key 2: 'Software\MIT\NetIDMgr\PluginManager\Plugins\Krb4Cred\Parameters'</pre><pre>&nbsp;&nbsp;&nbsp; ---------------</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Theses settings are also maintained per identity.&nbsp; However, if the</pre><pre>&nbsp;&nbsp;&nbsp; setting is not specified for some identity or if the identity is</pre><pre>&nbsp;&nbsp;&nbsp; new, then the global default will be used (registry key 2).</pre><pre>&nbsp;&nbsp;&nbsp; Global defaults should be set in the second registry key.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : Krb4NewCreds</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD (0 or 1)</pre><pre>&nbsp;&nbsp;&nbsp; Default : 1</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If '1', obtains Kerberos 4 credentials.&nbsp; Note that currently,</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; only one identity can have Kerberos 4 credentials at one time.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : Krb4Method</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD (0, 1 or 2)</pre><pre>&nbsp;&nbsp;&nbsp; Default : 0</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Method for obtaining Kerberos 4 credentials.&nbsp; The values are</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; as follows:</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 : Automatically determine method</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 : Use password</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;2 : Use Kerberos 5 to 4 translation</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : DefaultLifetime</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD</pre><pre>&nbsp;&nbsp;&nbsp; Default : 36000</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The default ticket lifetime, in seconds.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : MaxLifetime</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD</pre><pre>&nbsp;&nbsp;&nbsp; Default : 86400</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Maximum lifetime, in seconds.&nbsp; This value is used to set the</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; range of the user interface controls that allow setting the</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lifetime.</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp; Value&nbsp;&nbsp; : MinLifetime</pre><pre>&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp; : DWORD</pre><pre>&nbsp;&nbsp;&nbsp; Default : 60</pre><pre>&nbsp;</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Minimum lifetime, in seconds.&nbsp; This value is used to set the</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; range of the user interface controls that allow setting the</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lifetime.</pre>

<h3>Leash32 DLL </h3>

<h4>default lifetime ( minutes )</h4>

<pre>&nbsp;&nbsp; 1. Use LIFETIME environment value if defined.</pre><pre>&nbsp;&nbsp; 2. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKCU\Software\MIT\Leash,lifetime) if present.</pre><pre>&nbsp;&nbsp; 3. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKLM\Software\MIT\Leash,lifetime) if present.</pre><pre>&nbsp;&nbsp; 4. Otherwise, use Kerberos 5 profile if present</pre><pre>&nbsp;&nbsp; 5. Otherwise, use resource string if present.</pre><pre>&nbsp;&nbsp; 6. Otherwise, default to 0.</pre>

<h4>default renew till time ( minutes )</h4>

<pre>&nbsp;&nbsp; 1. Use RENEW_TILL environment value if defined.</pre><pre>&nbsp;&nbsp; 2. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKCU\Software\MIT\Leash,renew_till) if present.</pre><pre>&nbsp;&nbsp; 3. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKLM\Software\MIT\Leash,renew_till) if present.</pre><pre>&nbsp;&nbsp; 4. Otherwise, use Kerberos 5 profile if present</pre><pre>&nbsp;&nbsp; 5. Otherwise, use resource string if present.</pre><pre>&nbsp;&nbsp; 6. Otherwise, default to 0.</pre>

<h4>default renewable tickets setting ( 0 or 1 )</h4>

<pre>&nbsp;&nbsp; 1. Use RENEWABLE environment value if defined.</pre><pre>&nbsp;&nbsp; 2. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKCU\Software\MIT\Leash,renewable) if present.</pre><pre>&nbsp;&nbsp; 3. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKLM\Software\MIT\Leash,renewable) if present.</pre><pre>&nbsp;&nbsp; 4. Otherwise, use Kerberos 5 profile if present</pre><pre>&nbsp;&nbsp; 5. Otherwise, use resource string if present.</pre><pre>&nbsp;&nbsp; 6. Otherwise, default to 0.</pre>

<h4>default forwardable tickets setting ( 0 or 1 )</h4>

<pre>&nbsp;&nbsp; 1. Use FORWARDABLE environment value if defined.</pre><pre>&nbsp;&nbsp; 2. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKCU\Software\MIT\Leash,forwardable) if present.</pre><pre>&nbsp;&nbsp; 3. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKLM\Software\MIT\Leash,forwardable) if present.</pre><pre>&nbsp;&nbsp; 4. Otherwise, use Kerberos 5 profile if present</pre><pre>&nbsp;&nbsp; 5. Otherwise, use resource string if present.</pre><pre>&nbsp;&nbsp; 6. Otherwise, default to 1.</pre>

<h4>default addressless tickets setting ( 0 or 1 )</h4>

<pre>&nbsp;&nbsp; 1. Use Kerberos 5 profile setting (or default) if TRUE.</pre><pre>&nbsp;&nbsp; 2. Otherwise, use NOADDRESSES environment value if defined.</pre><pre>&nbsp;&nbsp; 3. Otherwise, use value from registry</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (HKCU\Software\MIT\Leash,noaddresses) if present.</pre><pre>&nbsp; &nbsp;4. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKLM\Software\MIT\Leash,noaddresses) if present.</pre><pre>&nbsp;&nbsp; 5. Otherwise, use resource string if present.</pre><pre>&nbsp;&nbsp; 6. Otherwise, default to 1.</pre>

<h4>default proxiable tickets setting ( 0 or 1 )</h4>

<pre>&nbsp;&nbsp; 1. Use PROXIABLE environment value if defined.</pre><pre>&nbsp;&nbsp; 2. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKCU\Software\MIT\Leash,proxiable) if present.</pre><pre>&nbsp;&nbsp; 3. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKLM\Software\MIT\Leash,proxiable) if present.</pre><pre>&nbsp;&nbsp; 4. Otherwise, use Kerberos 5 profile if present</pre><pre>&nbsp;&nbsp; 5. Otherwise, use resource string if present.</pre><pre>&nbsp;&nbsp; 6. Otherwise, default to 0.</pre>

<h4>default public ipv4 address ( unsigned long, network byte order )</h4>

<pre>&nbsp;&nbsp; 1. Use PUBLICIP environment value if defined.</pre><pre>&nbsp;&nbsp; 2. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKCU\Software\MIT\Leash,publicip) if present.</pre><pre>&nbsp;&nbsp; 3. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKLM\Software\MIT\Leash,publicip) if present.</pre><pre>&nbsp;&nbsp; 4. Otherwise, use resource string if present.</pre><pre>&nbsp;&nbsp; 5. Otherwise, default to 0.</pre>

<h4>request kerberos iv tickets ( 0 or 1 )</h4>

<pre>&nbsp;&nbsp; 1. Use USEKRB4 environment value if defined.</pre><pre>&nbsp;&nbsp; 2. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKCU\Software\MIT\Leash,usekrb4) if present.</pre><pre>&nbsp;&nbsp; 3. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKLM\Software\MIT\Leash,usekrb4) if present.</pre><pre>&nbsp;&nbsp; 4. Otherwise, use resource string if present.</pre><pre>&nbsp;&nbsp; 5. Otherwise, default to 0.</pre>

<h4>hide advanced kinit options in dialog ( 0 or 1 )</h4>

<pre>&nbsp;&nbsp; 1. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKCU\Software\MIT\Leash,hide_kinit_options) if present.</pre><pre>&nbsp;&nbsp; 2. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKLM\Software\MIT\Leash,hide_kinit_options) if present.</pre><pre>&nbsp;&nbsp; 3. Otherwise, use resource string if present.</pre><pre>&nbsp;&nbsp; 4. Otherwise, default to 0.</pre>

<h4>minimum kinit dialog lifetime ( minutes )</h4>

<pre>&nbsp;&nbsp; 1. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKCU\Software\MIT\Leash,life_min) if present.</pre><pre>&nbsp;&nbsp; 2. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKLM\Software\MIT\Leash,life_min) if present.</pre><pre>&nbsp;&nbsp; 3. Otherwise, use resource string if present.</pre><pre>&nbsp;&nbsp; 4. Otherwise, default to 5.maxmimum kinit dialog lifetime ( minutes )</pre><pre>&nbsp;&nbsp; 1. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKCU\Software\MIT\Leash,life_max) if present.</pre><pre>&nbsp;&nbsp; 2. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKLM\Software\MIT\Leash,life_max) if present.</pre><pre>&nbsp;&nbsp; 3. Otherwise, use resource string if present.</pre><pre> &nbsp;&nbsp;4. Otherwise, default to 1440.</pre>

<h4>minimum kinit dialog renew till time ( minutes )</h4>

<pre>&nbsp;&nbsp; 1. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKCU\Software\MIT\Leash,renew_min) if present.</pre><pre>&nbsp;&nbsp; 2. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKLM\Software\MIT\Leash,renew_min) if present.</pre><pre>&nbsp;&nbsp; 3. Otherwise, use resource string if present.</pre><pre>&nbsp;&nbsp; 4. Otherwise, default to 600.</pre>

<h4>maximum kinit dialog renew till ( minutes )</h4>

<pre>&nbsp;&nbsp; 1. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKCU\Software\MIT\Leash,renew_max) if present.</pre><pre>&nbsp;&nbsp; 2. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKLM\Software\MIT\Leash,renew_max) if present.</pre><pre>&nbsp;&nbsp; 3. Otherwise, use resource string if present.</pre><pre>&nbsp;&nbsp; 4. Otherwise, default to 43200.</pre>

<h4>upper case realm:</h4>

<pre>&nbsp;&nbsp; 1. Use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKCU\Software\MIT\Leash32\Settings,uppercaserealm) if present.</pre><pre>&nbsp;&nbsp; 2. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKLM\Software\MIT\Leash32\Settings,uppercaserealm) if present.</pre><pre>&nbsp;&nbsp; 3. Otherwise, use resource string if present.</pre><pre>&nbsp;&nbsp; 4. Otherwise, default to 1.</pre>

<h4>timesync host:</h4>

<pre>&nbsp;&nbsp; 1. Use TIMEHOST environment value if defined.</pre><pre>&nbsp;&nbsp; 2. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKCU\Software\MIT\Leash32\Settings,timehost) if present.</pre><pre>&nbsp;&nbsp; 3. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKLM\Software\MIT\Leash32\Settings,timehost) if present.</pre><pre>&nbsp;&nbsp; 4. Otherwise, use resource string if present.</pre><pre>&nbsp;&nbsp; 5. Otherwise, default to #defined value &quot;time&quot;.</pre>

<h4>Preserve ticket initialization dialog options:</h4>

<pre>&nbsp;&nbsp; 1. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKCU\Software\MIT\Leash,preserve_kinit_options) if present.</pre><pre>&nbsp;&nbsp; 2. Otherwise, use value from registry </pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HKLM\Software\MIT\Leash,preserve_kinit_options) if present.</pre><pre>&nbsp;&nbsp; 4. Otherwise, use resource string if present.</pre><pre>&nbsp;&nbsp; 5. Otherwise, default to 0.</pre>

<h3>Kerberos 4:</h3>

<h4>A. location of krbrealm &amp; krbconf:</h4>

<pre style='margin-bottom:12.0pt'>&nbsp;&nbsp; 1. First, check for environment overrides:</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a. Use %KRB4_KRB.REALMS% as full filename for realms file if defined.</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a. Use %KRB4_KRB.CONF% as full filename for config file if defined.</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b. Otherwise, look for krbrealm.con and krb.con in dir %KRB4_CONFIG%.</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp; 2. If nothing defined so far, look in registry:</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a. HKCU\Software\MIT\Kerberos4,krb.realms for realms full pathname.</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a. HKCU\Software\MIT\Kerberos4,krb.conf for config full pathname.</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b. HKCU\Software\MIT\Kerberos4,config as dir for both files.</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c. HKLM\Software\MIT\Kerberos4,krb.realms for realms full pathname .</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c. HKLM\Software\MIT\Kerberos4,krb.conf for config full pathname.</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; d. HKLM\Software\MIT\Kerberos4,configdir as dir for both files.</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp; 3. If any of the above are set, use it even if the files are not there.</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If none of them are set, use the old krb4 search.</pre>

<h4>B. ticket file</h4>

<pre style='margin-bottom:12.0pt'>&nbsp;&nbsp; 1. %KRBTKFILE% if defined</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp; 2. Registry setting, if setting is present</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (HKCU\MIT\Kerberos4,ticketfile)</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp; 3. Registry setting, if setting is present</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (HKLM\MIT\Kerberos4,ticketfile)</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp; 4. Otherwise, &quot;API:krb4cc&quot;.</pre><pre
style='margin-bottom:12.0pt'>&nbsp; (</pre><pre style='margin-bottom:12.0pt'>&nbsp;&nbsp; If a file-based cache is ever supported for Kerberos 4, code should do this:</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp; 4. %TEMP%\ticket.krb, if var defined and dir exists</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp; 5. %TMP%\ticket.krb, if var defined and dir exists</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp; 6. c:\temp\ticket.krb if c:\temp exists</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp; 7. c:\tmp\ticket.krb if c:\tmp exists</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp; 8. GetWindowsDirectory()\ticket.krb as a last-ditch default?&nbsp; It's</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; either that or c:\ticket.krb!</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp; )Kerberos 5:</pre>

<h4>A. location of krb5.ini:</h4>

<pre style='margin-bottom:12.0pt'>&nbsp;&nbsp; 1. %KRB5_CONFIG% if defined</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp; 2. (HKCU\Software\MIT\kerberos5,config) if defined</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp; 3. (HKCU\Software\MIT\kerberos5,config) if defined</pre><pre
style='margin-bottom:12.0pt'>&nbsp;&nbsp; 4. Otherwise, use GetWindowsDirectory()\krb5.ini</pre>

<h4>B. Default credentials cache name</h4>

<pre>&nbsp;&nbsp; 1. %KRB5CCNAME% if defined</pre><pre>&nbsp;&nbsp; 2. (HKCU\Software\MIT\kerberos5,ccname) if defined</pre><pre>&nbsp;&nbsp; 3. (HKLM\Software\MIT\kerberos5,ccname) if defined</pre><pre>&nbsp;&nbsp; 4. If RegKRB5CCNAME is set under [Files] in kerberos.ini,</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; look at that path in the registry (code already in krb5 for compat</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; with Gradient DCE installations, I believe).</pre><pre>&nbsp;&nbsp; 5. Otherwise, if using CCAPI, default to &quot;API:krb5cc&quot;.</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if no CCAPI, use &quot;FILE:&quot; with:</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a. %TEMP%\krb5cc, if var defined and dir exists</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b. %TMP%\krb5cc, if var defined and dir exists</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c. c:\temp\krb5cc if c:\temp exists</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; d. c:\tmp\krb5cc if c:\tmp exists</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e. GetWindowsDirectory()\krb5cc as a last-ditch default?</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; it's either that or c:\krb5cc!</pre>

<h4>C. MSLSA: credential cache client principal identity generation</h4>

<pre>&nbsp;&nbsp; 1. (HKCU\Software\MIT\Kerberos5,PreserveInitialTicketIdentity) if defined</pre><pre>&nbsp;&nbsp; 2. (HKLM\Software\MIT\Kerberos5,PreserveInitialTicketIdentity) if defined</pre><pre>&nbsp;&nbsp; 3. Default is 1.</pre>

<p class=MsoNormal>&nbsp;</p>

<div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>

<pre><a name=mslsa></a>&nbsp;</pre>

<h2>Integration with Microsoft Kerberos LSA</h2>

<p>As of the Kerberos v5 1.3.2 release, a new cache type, MSLSA:, has been
added for use in accessing the Microsoft Kerberos Logon Session credentials
cache.&nbsp; The MSLSA: cache is available when the user logon is performed
using Kerberos either to an Active Directory Domain or a non-Microsoft KDC. </p>

<p><b><span style='color:red'>Windows Vista:</span></b>
As of the Kerberos v5 1.6.0 release, the MSLSA: support contains functionality
that permits the credentials cache to be read-write on Windows Vista.
&nbsp;Windows Vista places restrictions on the use of Kerberos tickets when the
User Account Control (UAC) when the active account is a member of the local
machine Administrators group.&nbsp; In that situation, MSLSA: support is
disabled.&nbsp;&nbsp; Users are strongly encouraged to not login to Windows
Vista using accounts that are members of the local machine Administrators
group.</p>

<p>A user is able to logon to Windows using the Kerberos LSA if the machine is
part of a Windows 2000 or Windows 2003 Active Directory domain or if the
machine has been configured to authenticate to a non-Microsoft KDC such as
MIT.&nbsp; The instructions for configuring a Windows 2000 XP workstation to
authenticate to a non-Microsoft KDC are documented in TechNet somewhere.&nbsp;
In brief: </p>

<ol style='margin-top:0pt' start=1 type=1>
<li class=MsoNormal>Install
the Windows 2000 or XP support tools in order to obtain the tools:
KSETUP.EXE and KTPASS.EXE.</li>
<li class=MsoNormal>Install
the Windows 2000 or XP Resource Kit to obtain the tools KERBTRAY.EXE and
KLIST.EXE</li>
<li class=MsoNormal>Add
Realms and associated KDCs with: <b>KSETUP /AddKdc &lt;realm&gt;
[&lt;kdcname&gt;]</b>.&nbsp; If you leave off the &lt;kdcname&gt; DNS SRV
records will be used.</li>
<li class=MsoNormal>Specify
the password change service host for the realm with: <b>KSETUP /AddKpasswd
&lt;realm&gt; &lt;Kpwdhost&gt;</b></li>
<li class=MsoNormal>Assign
the realm of the local machine with: <b>KSETUP /SetRealm &lt;realm&gt;</b>
where realm must be all upper case.</li>
<li class=MsoNormal>Assign
the local machine's password with: <b>KSETUP /SetComputerPassword
&lt;Password&gt;</b></li>
<li class=MsoNormal>Specify
the capabilities of the Realm KDC with: <b>KSETUP /SetRealmFlags
&lt;realm&gt; &lt;flag&gt; [&lt;flag&gt; ...]</b> where flags may be <b>None,
SendAddress, TcpSupported, Delegate, or NcSupported</b>,</li>
<li class=MsoNormal>Map
principal names to local accounts with: <b>KSETUP /MapUser
&lt;principal&gt; &lt;account&gt;</b></li>
</ol>

<p class=MsoNormal>On the MIT KDC, you must then create service principals
using the &quot;Password&quot; assigned to the machine.&nbsp; So far the
minimum list of principals required appear to be for a machine named
&quot;mymachine&quot; in the realm &quot;EXAMPLE.COM&quot; with a domain name
of &quot;example.com&quot;:</p>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>host/mymachine@EXAMPLE.COM</li>
<li class=MsoNormal>host/mymachine.example.com@EXAMPLE.COM</li>
<li class=MsoNormal>cifs/mymachine@EXAMPLE.COM</li>
<li class=MsoNormal>cifs/mymachine.example.com@EXAMPLE.COM</li>
</ul>

<p>There may very well be other services for which principals must be created
depending on what services are being executed on the machine. </p>

<p>It is very important to note that while you can successfully log into a
Windows workstation by authenticating to the KDC without creating a host key;
the logon session you receive will not be a Kerberos Logon Session.&nbsp; There
will be no Kerberos principal and no LSA cache to access. </p>

<p>The result of a real KSETUP configuration looks like this: </p>

<p class=MsoNormal>&nbsp;</p>

<pre>&nbsp;&nbsp; [C:\4\4NT]ksetup</pre><pre>&nbsp;&nbsp; default realm = KRB5.COLUMBIA.EDU (external)</pre><pre>&nbsp;&nbsp; ATHENA.MIT.EDU:</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; kdc = kerberos.mit.edu</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; kdc = kerberos-1.mit.edu</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; kdc = kerberos-2.mit.edu</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; kdc = kerberos-3.mit.edu</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Realm Flags = 0x0 none</pre><pre>&nbsp;&nbsp; CC.COLUMBIA.EDU:</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; kdc = kerberos.cc.columbia.edu</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Realm Flags = 0x0 none</pre><pre>&nbsp;&nbsp; GRAND.CENTRAL.ORG:</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; kdc = penn.central.org</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; kdc = grand-opening.mit.edu</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Realm Flags = 0x0 none</pre><pre>&nbsp;&nbsp; KRB5.COLUMBIA.EDU:</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; kdc = yclept.kermit.columbia.edu</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Realm Flags = 0x0 none</pre><pre>&nbsp;&nbsp; OPENAFS.ORG:</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; kdc = virtue.openafs.org</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Realm Flags = 0x0 none</pre><pre>&nbsp;&nbsp; Mapping jaltman@KRB5.COLUMBIA.EDU to jaltman.</pre><pre>&nbsp;&nbsp; Mapping jaltman@CC.COLUMBIA.EDU to jaltman.</pre><pre>&nbsp;&nbsp; Mapping jaltman@ATHENA.MIT.EDU to jaltman.</pre><pre>&nbsp;&nbsp; Mapping all users (*) to a local account by the same name (*)</pre>

<p>The MSLSA: credential cache relies on the ability to extract the entire
Kerberos ticket including the session key from the Kerberos LSA.&nbsp; In an
attempt to increase security Microsoft has begun to implement a feature by
which they no longer export the session keys for Ticket Getting Tickets. This
has the side effect of making them useless to the MIT krb5 library when
attempting to request additional service tickets. </p>

<p>This new feature has been seen in Windows 2003 Server, Windows 2000 Server
SP4, and Windows XP SP2.&nbsp; We assume that it will be implemented in all
future Microsoft operating systems supporting the Kerberos SSPI.&nbsp;
Microsoft does work closely with MIT and has provided a registry key to disable
this new feature. </p>

<pre>&nbsp; HKLM\SYSTEM\CurrentControlSet\Control\Lsa\Kerberos\Parameters</pre><pre>&nbsp;&nbsp;&nbsp; AllowTGTSessionKey = 0x01 (DWORD)</pre>

<p class=MsoNormal>On Windows XP SP2 the key is specified as </p>

<pre>&nbsp; HKLM\SYSTEM\CurrentControlSet\Control\Lsa\Kerberos</pre><pre>&nbsp;&nbsp;&nbsp; AllowTGTSessionKey = 0x01 (DWORD)</pre>

<p>It has been noted that the Microsoft Kerberos LSA does not provide enough
information within its KERB_EXTERNAL_TICKET structure to properly construct the
Client Principal simply by examining a single ticket.&nbsp; From the MSDN
Library: </p>

<p class=MsoNormal style='text-indent:6.0pt'><b>ClientName </b><br>
&nbsp;&nbsp;&nbsp; KERB_EXTERNAL_NAME structure that contains the client name
in the ticket. &nbsp;&nbsp;&nbsp; This name is relative to the current domain. </p>

<p class=MsoNormal style='text-indent:6.0pt'><b>DomainName </b><br>
&nbsp;&nbsp;&nbsp; UNICODE_STRING that contains the name of the domain that
corresponds to the ServiceName member. This is the domain that issued the
ticket. </p>

<p class=MsoNormal style='text-indent:6.0pt'>&nbsp;</p>

<p class=MsoNormal style='text-indent:6.0pt'><b>TargetDomainName</b> <br>
&nbsp;&nbsp;&nbsp; UNICODE_STRING that contains the name of the domain in which
the ticket is valid. For an interdomain ticket, this is the destination domain.
</p>

<p class=MsoNormal style='text-indent:6.0pt'><b>AltTargetDomainName</b> <br>
&nbsp;&nbsp;&nbsp; UNICODE_STRING that contains a synonym for the destination
domain. Every domain has two names: a DNS name and a NetBIOS name. If the name
returned in the ticket is different from the name used to request the ticket
(the Kerberos Key Distribution Center (KDC) may do name mapping), this string
contains the original name. </p>

<p>Unfortunately, there is no field here which contains the domain of the
client. In order for the krb5_ccache to properly report the client principal
name, the client principal name is constructed by utilizing the ClientName and
DomainName fields of the Initial TGT associated with the Kerberos LSA
credential cache. To disable the use of the TGT info and instead simply use the
&quot;DomainName&quot; field of the current ticket define one of the following
registry keys depending on whether the change should be system global or just
for the current user. </p>

<pre>&nbsp;&nbsp; HKLM\Software\MIT\Kerberos5\</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PreserveInitialTicketIdentity = 0x0 (DWORD)</pre><pre>&nbsp;&nbsp; HKCU\Software\MIT\Kerberos5\</pre><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PreserveInitialTicketIdentity = 0x0 (DWORD)</pre>

<p>As of KFW 2.6.4 it may be possible sometime in the future for the correct
client realm to be obtained from the LSA credential cache contents.&nbsp;
However, it will require a fix from Microsoft which at the present time is not
available. </p>

<p><b>Microsoft Windows XP64 and 2003 64-bit edition do not properly implement
the LSA Kerberos functionality within the WOW64 32-bit compatibility
environment.&nbsp; As a result, calling the LSA functions within WOW64 causes
the Kerberos 5 library to crash.&nbsp; Therefore, the MSLSA ccache support is
disabled in these environments.&nbsp; Microsoft has fixed this problem as of Vista Beta 2.</b></p>

<div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>

<h2><a name=gss-client></a>GSSAPI Sample Client (gss.exe):</h2>

<p>The GSS API Sample Client provided in this distribution is compatible with
the gss-server application built on Unix/Linux systems.&nbsp; This client is
not compatible with the Platform SDK/Samples/Security/SSPI/GSS/ samples which
Microsoft has been shipping as of January 2004.&nbsp; Revised versions of these
samples are available upon request to krbdev@mit.edu.&nbsp; Microsoft is committed
to distribute revised samples which are compatible with the MIT distributed
tools in a future SDK and via MSDN. </p>

<p>The following configuration options may be set for testing GSSAPI
connections with a compatible server:</p>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal><b>Hostname</b>&nbsp;
The fully qualified domain name of the host on which the GSS Sample Server
is running.&nbsp; The previous ten hostnames used will be preserved
between invocations.</li>
<li class=MsoNormal><b>Port</b>&nbsp;
The port number on the host at which the GSS Sample Server is
listening.&nbsp; A value of 0 means use the default or port 4444.</li>
<li class=MsoNormal><b>GSS
Service Name</b>&nbsp; This is the GSS formatted name of the
service.&nbsp; This is not a Kerberos 5 principal.&nbsp; The format is <i>service-name@fqdn</i>
which will be converted to the Kerberos 5 principal <i>service-name/fqdn@REALM</i>
where REALM is derived from the fully qualified domain name by use of the
domain to REALM mapping table in the KRB5.INI file.&nbsp; The previous ten
GSS Service Names will be preserved between invocations.</li>
<li class=MsoNormal><b>Test
Message</b>&nbsp; A string of up to 256 characters in length which will be
used as a test message to send to the GSS Sample Server.&nbsp; The
previous ten Test Messages will be preserved between invocations.</li>
<li class=MsoNormal><b>CCache
Name</b>&nbsp; The name of the Kerberos 5 Credentials Cache which contains
the client principal's credentials for use with this GSS session.&nbsp; A
blank entry means to use the default credential cache as specified by the
KRB5CCNAME environment variable or the registry.&nbsp; The drop down list
is populated with the names of the existing Kerberos 5 credential
caches.&nbsp; To use a new credential cache which does not already exist,
simply enter the name in the text field.</li>
<li class=MsoNormal><b>Mechanism
(OID)</b>&nbsp; An Object Identifier is used to specify which GSS
Mechanism should be used when negotiating the connection.&nbsp; In all
cases it should not be necessary for an OID to be specified or even known
by the application developer.&nbsp; This field is therefore only to be
used by developers of gssapi implementations.</li>
<li class=MsoNormal><b>Verbose
Output</b>&nbsp; Generate lots of messages into the output window.&nbsp;
Unchecking this option will significantly reduce the amount of information
output.</li>
<li class=MsoNormal><b>Delegation</b>&nbsp;
Checking this box will cause the GSS API to delegate (or in Kerberos
speak, forward) its user credentials (a TGT) to the GSS Sample
Server.&nbsp; You must have acquired forwardable TGTs for this to
work.&nbsp; (default is off)</li>
<li class=MsoNormal><b>Mutual</b>&nbsp;
This option specifies whether or not mutual authentication will be
requested.&nbsp; (default is on)</li>
<li class=MsoNormal><b>Replay</b>&nbsp;
This option specifies whether or not replay detection will be requested.
(default is on)</li>
<li class=MsoNormal><b>Sequence</b>&nbsp;
This option specifies whether or not message sequencing will be
requested.&nbsp; (default is off)</li>
<li class=MsoNormal><b>Version
1</b>&nbsp; This option is for use only with very old versions of the MIT
Kerberos 5 GSS Sample Server.&nbsp; Certainly anything post the Krb5 1.2
release does not use Version 1 protocol.</li>
<li class=MsoNormal><b>No
Auth</b>&nbsp; Do not negotiate any form of authentication.&nbsp; Just
send the test message.&nbsp; Without authentication GSS Wrap, GSS Encrypt,
and GSS Mic operations are not available.</li>
<li class=MsoNormal><b>No
Wrap</b>&nbsp; Do not perform GSS Wrap operations on the test messages.</li>
<li class=MsoNormal><b>No
Encrypt</b>&nbsp; Do not preform GSS Encrypt operations on the test
messages.</li>
<li class=MsoNormal><b>No
Mic</b>&nbsp; Do not perform GSS Mic operations on the test messages.</li>
<li class=MsoNormal><b>Call
Count</b>&nbsp; How many times should a connection to the GSS Server be
established?</li>
<li class=MsoNormal><b>Message
Count</b>&nbsp; For each connection, how many copies of the test message
should be sent?</li>
</ul>

<p class=MsoNormal style='margin-bottom:12.0pt'>The Output window is a
read-only text edit field which will allow text to be selected and copied to
the clipboard with Ctrl-C.<br>
<br>
Press the <b>Test</b> button to begin a test and the <b>Exit</b> button to quit
the application.</p>

<div class=MsoNormal align=center style='text-align:center'><!-- --><!-- ---------------------------------------------------------------------- -->

<hr size=2 width="100%" align=center>

</div>

<h2><a name=history></a>Release History</h2>

<p>In general, the latest release of KfW is recommended. However, it may be
useful (and entertaining) to understand the history of KfW by looking at its
release history. </p>

<h3>3.1.0</h3>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Improvements
to the <i>Network Identity Manager</i></li>
</ul>

<p class=MsoNormal style='margin-left:72.0pt;text-indent:-18.0pt'>1.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>A serious memory leak has been fixed</p>

<p class=MsoNormal style='margin-left:72.0pt;text-indent:-18.0pt'>2.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Principal names containing numbers are no longer considered invalid</p>

<p class=MsoNormal style='margin-left:72.0pt;text-indent:-18.0pt'>3.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Locales other than en_US are now supported</p>

<p class=MsoNormal style='margin-left:72.0pt;text-indent:-18.0pt'>4.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Arbitrary sort ordering of credentials</p>

<p class=MsoNormal style='margin-left:72.0pt;text-indent:-18.0pt'>5.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Support for FILE: ccaches</p>

<p class=MsoNormal style='margin-left:72.0pt;text-indent:-18.0pt'>6.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Credential properties may be selected by the user for display</p>

<p class=MsoNormal style='margin-left:72.0pt;text-indent:-18.0pt'>7.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>User selected font support</p>

<p class=MsoNormal style='margin-left:72.0pt;text-indent:-18.0pt'>8.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Tool Tip support added to the Toolbar</p>

<p class=MsoNormal style='margin-left:72.0pt;text-indent:-18.0pt'>9.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Identities can be added without obtaining credentials</p>

<p class=MsoNormal style='margin-left:72.0pt;text-indent:-18.0pt'>10.<span
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Kerberos 5 Realm editor has been added</p>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>A
serious thread safety error in the Kerberos 5 libraries can result in
premature application termination.</li>
<li class=MsoNormal>The
MSLSA: ccache is disabled in WOW64 environments prior to Microsoft Windows
Vista Beta 2</li>
<li class=MsoNormal>.EXE
installer built using NSIS 2.18</li>
<li class=MsoNormal>.MSI
installer built using WIX 2.0.4220.0</li>
</ul>

<h3>3.0.0</h3>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Kerberos
5 library updated to release 1.4.3.&nbsp; The most important change in this
release is that the Kerberos 5 libraries are safe for use in
multi-threaded applications.&nbsp;&nbsp; See the <a
     href="http://web.mit.edu/kerberos/krb5-1.4/README-1.4.3.txt">Kerberos 5
README file</a> for details of additional changes in the Kerberos 5 version
1.4.3 distribution.</li>
<li class=MsoNormal>Kerberos
4 support is beginning to be <a href="#kerberos_4_bad">phased out</a>.&nbsp;
The default for new installations is to not obtain Kerberos 4 tickets in
the Network Identity Manager or kinit.exe.</li>
<li class=MsoNormal>The
<i>Leash</i> credential manager has been replaced by a new modular
framework for identity manager called the <i>Network Identity Manager</i>.</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<ul style='margin-top:0pt' type=circle>
<li class=MsoNormal>It
ships with a Kerberos 5 identity manager that manages multiple Kerberos 5
Identities and allows the user to select which one should be used as the
default.</li>
<li class=MsoNormal>It
ships with Kerberos 5 and Kerberos 4 plug-ins that allow users to obtain
Kerberos 5 and Kerberos 4 credentials</li>
<li class=MsoNormal>An
AFS plug-in is available separately from <a
      href="https://www.secure-endpoints.com/">Secure Endpoints Inc.</a> which
will be incorporated into a future version of <a
      href="http://www.openafs.org/">OpenAFS for Windows</a></li>
<li class=MsoNormal>Organizations
that wish to develop their own plug-ins are encouraged to contact <a
      href="mailto:kfw-bugs@mit.edu">kfw-bugs@mit.edu</a></li>
</ul>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>A
new KFW Network Provider is installed to obtain tickets at login time for
the default realm and store them into the user credential cache.</li>
<li class=MsoNormal>Microsoft
Windows 95, 98, ME, and NT 4.0 are no longer supported</li>
<li class=MsoNormal>The
aklog utility is no longer distributed.&nbsp;&nbsp; It ships as part of <a
     href="http://www.openafs.org/">OpenAFS for Windows 1.4.0</a>.</li>
</ul>

<h3>2.6.5</h3>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Correct
incompatibility between Kerberos 5 MSLSA krb5_ccache and Windows 2000
(introduced in 2.6.4)</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Kerberos
5 library updated to release 1.3.5.&nbsp; Corrects two security holes
which could allow a rouge KDC to execute arbitrary code on the
client.&nbsp; See the Kerberos 5 README file for details of the changes in
the Kerberos 5 version 1.3.5 distribution.</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Add
a new MSI based installation option for organizations which need to
distribute KFW via group policy.&nbsp; The source for the installer is
part of the KFW SDK.&nbsp; The MSI may be customized via the use of MSI
transforms. See the file install\wix\msi-deployment-guide.txt for details.</li>
</ul>

<h3>2.6.4</h3>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Solve
problem in MSLSA: ccache which would result in premature process
termination on non-English versions of Windows if Kerberos credentials
were not available from LSA credential manager.</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Apply
automatic import restrictions from the MSLSA credentials cache to the
GSSAPI acquire credentials code when necessary.</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Kerberos
5 library updated to release 1.3.4.&nbsp; See the Kerberos 5 README file
for details of the changes in the Kerberos 5 version 1.3.4 distribution.</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Add
support for the location of the AllowTGTSessionKey registry value in
Windows XP SP2 to the installer</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Add
support for Terminal Server compatibility flags to the installer</li>
</ul>

<h3>2.6.3</h3>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Prevent
Leash from flooding the KDC with TGS_REQ messages when the Windows Logon
Session is authenticated using Kerberos.</li>
</ul>

<h3>2.6.2</h3>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>The
behavior of the Leash automatic importing of credentials from the MSLSA
credentials cache is now configurable.&nbsp; Options include never,
always, and only if the MSLSA principal belongs to the default realm as
specified in krb5.ini.</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Keberos
Ticket Initialization options modified within the Ticket Initialization
dialog may now optionally be preserved.&nbsp; </li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>A
memory access error introduced in 2.6.1 has been eliminated.&nbsp; This
problem was traced to errors in implementation of the MFC CSingleLock
class.</li>
</ul>

<h3>2.6.1</h3>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Kerberos
5 library updated to release 1.3.3.&nbsp; See the Kerberos 5 README file
for details of the changes in the Kerberos 5 version 1.3.3 distribution. </li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Fixes
a compatibility issue with Windows 98 and ME discovered after the 2.6
release.</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Leash
and aklog obtain AFS tokens via Kerberos 5 without requiring the use of a
krb524 daemon.</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>The
Kerberos 5 command line utilities kvno.exe and kpasswd.exe are now
included in the distribution.</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>The
Leash Change Password function once again works when passwords are
expired.</li>
</ul>

<h3>2.6.0</h3>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Leash
has been turned into a System Tray application</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Leash
implements IP address change detection which is used in conjunction with
KDC Probing to determine when dialogs for obtaining tickets should be
displayed to the end user</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Leash
API functions no longer display dialogs to the end user on failure</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Kerberos
5 Credential Cache Name changes are now functional</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>aklog
support for Kerberos 5 credentials has been added and is now the
default.&nbsp; Use the -4 switch if you wish to use aklog with Kerberos 4
credentials.</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>krb5_cc
api support for accessing the Microsoft Kerberos LSA cache in read-only
mode.&nbsp; Use a ccache name of &quot;MSLSA:&quot;.</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>KClient
and GSSAPI libraries will now automatically display the Leash Obtain
Ticket Getting Tickets dialog box when a request for service tickets is
made and no TGTs exist.&nbsp; This can be disabled by defining the
environment variable <b>KERBEROSLOGIN_NEVER_PROMPT</b>.</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>The
Leash online help functionality has been updated.&nbsp; The HtmlHelp
engine is now used instead of WinHelp.&nbsp; All content has been updated.</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>A
new installer based on the open source NullSoft Installation System is
provided.&nbsp; Source is provided as part of the SDK to allow for
customization.</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>A
new GSS Sample Application client has been added to the distribution which
is compatible with the Unix gss-server sample service.</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Improvements
to the Winsock Helper Library (WSHELP32.DLL) to avoid several problems
related to initializing the list of DNS servers.&nbsp; Whenever possible
the operating system versions of resolver functions are used instead of
the internal versions.</li>
</ul>

<h3>What's New in Kerberos for Windows 2.5</h3>

<h3>2.5.1</h3>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>The
order of Kerberos 5 and Kerberos 4 tickets in the Leash credential tree
are reversed</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Status
Bar string formatting corrected for AFS Token lifetimes</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Automatic
Ticket Renewals performed on AFS Token expiration</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Error
dialogs are suppressed for when using Leash API calls for check password,
kinit, and change password</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>AFS
Tokens are obtained via a krb524 of a Kerberos 5 AFS ticket in preference
to obtaining a Kerberos 4 AFS Ticket</li>
</ul>

<h3>2.5.0 (includes all changes since 2.1)</h3>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Kerberos
v5 support is from MIT Kerberos v5 Release 1.3.1. In addition to bug
fixes, this release of Kerberos 5 includes several important changes: </li>
</ul>

<ul style='margin-top:0pt' type=disc>
<ul style='margin-top:0pt' type=circle>
<li class=MsoNormal>The
public API has been more clearly defined. The krb5.h header file now
marks non-public functions with KRB5_PRIVATE and deprecated functions
with KRB5_DEPRECATED. You should not define these in your builds. </li>
<li class=MsoNormal>The
krb5_32.dll exports have been cleaned up (most private functions are no
longer exported) to try to reflect that API. However, the Kerberos 5 DLL
still exports some private functions that are currently used by the
GSSAPI implementation. Make sure you do not use these (check krb5.h or
krb5_32.def). </li>
<li class=MsoNormal>The
Kerberos 5 ccache and keytab accessors are now functions instead of
macros.</li>
<li class=MsoNormal>The
Kerberos 524 ticket conversion functions are now integrated into the
Kerberos 5 library.&nbsp; A krb524.dll is provided for backward
compatibility with the krb524.dll distributed by
http://www.rose-hulman.edu/TSC/software/wake/documentation/compiling/krb524/</li>
<li class=MsoNormal>The
library default is now to retrieve addressless tickets.&nbsp; This can be
a problem for DCE based systems.&nbsp; To restore the previous behavior
and enable Leash configurable control, add &quot;noaddresses =
false&quot; to the &quot;[libdefaults]&quot; section of the KRB5.INI
file.</li>
<li class=MsoNormal>GSS
Kerberos OID constants are exported by GSSAPI32.DLL</li>
</ul>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Leash
Credential Manager improvements:</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<ul style='margin-top:0pt' type=circle>
<li class=MsoNormal>Leash
behaves nicely with missing or incomplete configuration files</li>
<li class=MsoNormal>Autogeneration
of missing configuration files based upon DNS records or Microsoft
Windows Domain configuration.&nbsp; Configurable by registry setting or
Leash Properties dialog.</li>
<li class=MsoNormal>Importation
of Microsoft Windows Domain credentials into the MIT Credentials Cache
supported via Actions-&gt;Import Tickets (^I)</li>
<li class=MsoNormal>Ability
to manage DNS KDC Lookup setting from Kerberos Properties Dialog</li>
<li class=MsoNormal>Renew
Kerberos credentials without password.&nbsp; Actions-&gt;Renew Tickets
(^R)</li>
<li class=MsoNormal>KRB524
support</li>
</ul>
</ul>

<ul style='margin-top:0pt' type=disc>
<ul style='margin-top:0pt' type=circle>
<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>used
to retrieve Kerberos 4 credentials in preference to Kerberos 4 kinit</li>
<li class=MsoNormal>used
to retrieve Kerberos 4 credentials during ticket renewal</li>
<li class=MsoNormal>used
to retrieve Kerberos 4 credentials during Windows credential importation</li>
</ul>
</ul>
</ul>

<ul style='margin-top:0pt' type=disc>
<ul style='margin-top:0pt' type=circle>
<li class=MsoNormal>New
Ticket Initialization and Change Password dialogs</li>
<li class=MsoNormal>Addressless
Kerberos 5 tickets configuration (when KRB5.INI contains [libdefaults]
noaddresses = false)</li>
<li class=MsoNormal>Renewable
Kerberos 5 tickets configuration</li>
<li class=MsoNormal>Automatic
Ticket Renewal re-news/re-imports Kerberos 5 tickets and obtains new
Kerberos 4 tickets via KRB524 when either Kerberos 4 or Kerberos 5
credentials are about to expire. Options-&gt;Automatic Ticket Renewal</li>
<li class=MsoNormal>On
startup, if the credential cache is empty and the Windows logon session
is Kerberos authenticated, the Windows Kerberos credentials are imported</li>
<li class=MsoNormal>New
command line options:</li>
</ul>
</ul>

<ul style='margin-top:0pt' type=disc>
<ul style='margin-top:0pt' type=circle>
<ul style='margin-top:0pt' type=square>
<li class=MsoNormal><b>-ms2mit</b>,
<b>-import</b>,<b> -m</b> imports credentials from the Windows Logon
Session (and exit)</li>
<li class=MsoNormal><b>-renew,
-r</b> renews credentials (and exit)</li>
<li class=MsoNormal><b>-destroy,
-d</b> destroys credentials&nbsp; (and exit)</li>
<li class=MsoNormal><b>-autoinit</b>,
<b>-a</b> performs ticket initialization only if the credential cache is
empty</li>
</ul>
</ul>
</ul>

<ul style='margin-top:0pt' type=disc>
<ul style='margin-top:0pt' type=circle>
<li class=MsoNormal>Expired
Tickets can now be destroyed</li>
<li class=MsoNormal>Prompter
dialogs added to support hardware pre-authentication mechanisms</li>
<li class=MsoNormal>Kerberos
4 ticket retrieval can now be disabled without deleting the KRBV4W32.DLL
via the Leash Properties dialog</li>
<li class=MsoNormal>Kerberos
4 and Kerberos 5 configuration file locations may now be locked</li>
<li class=MsoNormal>Leash
now obeys instructions for Minimize, Maximize and Normal
window creation</li>
<li class=MsoNormal>New
Icons and Toolbar images</li>
<li class=MsoNormal>Ticket
Encryption Types and Addresses are displayed for Kerberos 5 tickets</li>
<li class=MsoNormal>Andrew
File System token retrieval (if either OpenAFS or IBM <b>AFS</b>® Version
3.6 are installed.)</li>
</ul>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Leashw32
API expanded to provide access to the new Ticket Initialization and Change
Passwords dialogs; and get/set/reset functions to alter Leash and Kerberos
behavior</li>
<li class=MsoNormal>New
Leash End User documentation provided in PDF format</li>
</ul>

<h3>KfW 2.2</h3>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Never
officially released beyond Beta form.&nbsp; </li>
<li class=MsoNormal>Kerberos
v5 support from MIT Kerberos v5 Release 1.2.5 Beta 1.</li>
</ul>

<h3>KfW 2.1.2</h3>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Kerberos
v5 support is from MIT Kerberos v5 Release 1.2.3. This release of Kerberos
v5 includes the ms2mit program to transfer a user's Microsoft Windows
domain Kerberos credentials into the MIT Kerberos 5 credentials cache. </li>
<li class=MsoNormal>ms2mit
was removed from the Extra Binaries package since it is now part of the
included MIT Kerberos v5 component. </li>
<li class=MsoNormal>The
Microsoft Redistributable Components package no longer includes the
Winsock 2 Update for Windows 95. A pointer to download it from Microsoft
is now included. </li>
<li class=MsoNormal>The
release notes have been significantly revamped. </li>
</ul>

<h3>KfW 2.1.1</h3>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Kerberos
v5 support is from MIT Kerberos v5 Release 1.2.2. </li>
<li class=MsoNormal>KfW
now works on Windows XP. (The RPC endpoint names used by the credentials
cache had to be shortened for XP.) </li>
</ul>

<h3>KfW 2.1</h3>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>&quot;Kerberos
for Win32&quot; is now &quot;Kerberos for Windows&quot;, or
&quot;KfW&quot; for short. </li>
<li class=MsoNormal>Kerberos
v4 and v5 now build with <a href="#config_dns">DNS support</a> by default.
</li>
<li class=MsoNormal>Kerberos
v5 support is from MIT Kerberos v5 Release 1.2.1. </li>
<li class=MsoNormal>Various
buffer overflow vulnerabilities in Kerberos 4 have been fixed. </li>
<li class=MsoNormal>The
in-memory Kerberos Credentials Cache implementation is brand new. Fleavius
is now obsolete. In-memory credentials cache is now implemented via a LRPC
(local remote procedure call) mechanism. The tickets live in the krbcc32s
process (which is automatically started). On Windows NT/2000, There is at
most one such process per Windows login session. </li>
</ul>

<p style='margin-left:36.0pt'>Each Windows NT/2000 login session can access
only its own credentials cache. Even Windows NT/2000 security impersonation
will not allow a process to access the cache of the user the process is
impersonating. This is by design. </p>

<p style='margin-left:36.0pt'>This implementation has a much smaller memory
footprint and is far more robust than the fleavius implementation. It can
support a very large number of caches and credentials. The only downside to the
LRPC implementation is that it is currently about 35% slower than the fleavius
implementation. </p>

<p style='margin-left:36.0pt'>For more information, read the <a
href="../../athena/auth/krbcc/doc/architecture.txt">krbcc32 Architecture</a>
and <a href="../../athena/auth/krbcc/doc/implementation.txt">krbcc32
Implementation</a> documentation at <code><span style='font-size:10.0pt'>athena/auth/krbcc/doc/architecture.txt</span></code>
and <code><span style='font-size:10.0pt'>athena/auth/krbcc/doc/implementation.txt</span></code>.
(krbcc32 documentation links work only if this is the source package.) </p>

<h3>Pre-KfW Era</h3>

<p>Before there was KfW, MIT had other Kerberos releases for Windows and even
for DOS (gasp!). Read on if you dare... </p>

<h4>Kerberos for Microsoft Operating Systems Release 2.0</h4>

<p>This was a version of KfW before it was called KfW. It had an in-memory
credentials cache (called fleavius) that had many problems, including large
memory footprint, a single per-machine shared cache (even on NT). </p>

<h4>A Long, Long Time Ago...</h4>

<p class=MsoNormal>Once upon a time, 16-bit Windows was supported. There was
even DOS support at one point. As far as MIT Kerberos is concerned, those days
are best forgotten. </p>

<!-- ---------------------------------------------------------------------- -->

<div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>

<h2><a name=todo></a>Upcoming in a Future KFW distribution</h2>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Improved
documentation. </li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Removal
of Kerberos 4 libraries</li>
</ul>

<ul style='margin-top:0pt' type=disc>
<li class=MsoNormal>Support
for 64-bit Windows</li>
</ul>

<div class=MsoNormal align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</div>

<h2><a name="_Toc121520475"></a><a name=devnotes></a><a name="kerberos_4_bad"></a>Important
notice regarding Kerberos 4 support</h2>

<p class=MsoNormal>In the past few years, several developments have shown the
inadequacy of the security of version 4 of the Kerberos protocol.&nbsp; These
developments have led the MIT Kerberos Team to begin the process of ending
support for version 4 of the Kerberos protocol.&nbsp; The plan involves the
eventual removal of Kerberos 4 support from the MIT implementation of Kerberos.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The Data Encryption Standard (DES) has reached the end of
its useful life.&nbsp; DES is the only encryption algorithm supported by
Kerberos 4, and the increasingly obvious inadequacy of DES motivates the
retirement of the Kerberos 4 protocol.&nbsp; The National Institute of
Standards and Technology (NIST), which had previously certified DES as a US government
encryption standard, has officially announced[1] the withdrawal of the Federal
Information Processing Standards (FIPS) for DES.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>NIST's action reflects the long-held opinion of the
cryptographic community that DES has too small a key space to be secure.&nbsp;
Breaking DES encryption by an exhaustive search of its key space is within the
means of some individuals, many companies, and all major governments.
Consequently, DES cannot be considered secure for any long-term keys,
particularly the ticket-granting key that is central to Kerberos.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Serious protocol flaws[2] have been found in Kerberos
4.&nbsp; These flaws permit attacks which require far less effort than an
exhaustive search of the DES key space.&nbsp; These flaws make Kerberos 4
cross-realm authentication an unacceptable security risk and raise serious
questions about the security of the entire Kerberos 4 protocol.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The known insecurity of DES, combined with the recently
discovered protocol flaws, make it extremely inadvisable to rely on the
security of version 4 of the Kerberos protocol.&nbsp; These factors motivate
the MIT Kerberos Team to remove support for Kerberos version 4 from the MIT
implementation of Kerberos.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The process of ending Kerberos 4 support began with release
1.3 of MIT Kerberos 5.&nbsp; In release 1.3, the default run-time configuration
of the KDC disables support for version 4 of the Kerberos protocol.&nbsp;
Release 1.4 of MIT Kerberos continues to include Kerberos 4 support (also
disabled in the KDC with the default run-time configuration), but we intend to
completely remove Kerberos 4 support from some future release of MIT Kerberos,
possibly as early as the 1.5 release of MIT Kerberos.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The MIT Kerberos Team has ended active development of
Kerberos 4, except for the eventual removal of all Kerberos 4
functionality.&nbsp; We will continue to provide critical security fixes for
Kerberos 4, but routine bug fixes and feature enhancements are at an end.&nbsp;
We recommend that any sites which have not already done so begin a migration to
Kerberos 5.&nbsp; Kerberos 5 provides significant advantages over Kerberos 4,
including support for strong encryption, extensibility, improved cross-vendor
interoperability, and ongoing development and enhancement.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>If you have questions or issues regarding migration to
Kerberos 5, we recommend discussing them on the kerberos@mit.edu mailing list.</p>

<h3><a name="_Toc121520476">References</a></h3>

<p class=MsoNormal>[1] National Institute of Standards and Technology.&nbsp;
Announcing Approval of the Withdrawal of Federal Information Processing
Standard (FIPS) 43-3, Data Encryption Standard (DES); FIPS 74,Guidelines for
Implementing and Using the NBS Data Encryption Standard; and FIPS 81, DES Modes
of Operation.&nbsp; Federal Register 05-9945, 70 FR 28907-28908, 19 May
2005.&nbsp; DOCID:fr19my05-45</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>[2] Tom Yu, Sam Hartman, and Ken Raeburn. The Perils
ofUnauthenticated Encryption: Kerberos Version 4. In Proceedings of the Network
and Distributed Systems Security Symposium. The Internet Society, February
2004.&nbsp;&nbsp;&nbsp; http://web.mit.edu/tlyu/papers/krb4peril-ndss04.pdf</p>

<h2 align=center style='text-align:center'>

<hr size=2 width="100%" align=center>

</h2>

<h2>Developer Notes</h2>

<h3>Network Identity Framework</h3>

<p class=MsoNormal style='margin-bottom:12.0pt'><a name="devnotes_old"></a>See
devdocs.chm in the SDK</p>

<h3>Some older notes from prior releases...</h3>

<ol style='margin-top:0pt' start=1 type=1>
<li class=MsoNormal>Modification
of the Kerberos 4 credential cache: </li>
</ol>

<p style='margin-left:36.0pt'>We encountered a problem at MIT that we felt
needed to be addressed even though it broke some backwards compatibility. We
found that if someone used a Kerberized application spanning multiple PPP
sessions a Kerberos error would be generated and few applications would catch
this error and try to get new tickets instead. E.g. Suppose a user starts a PPP
connection and then starts Eudora, fetching mail. The user then decides to
close down the PPP connection while they read their mail and compose responses.
Next they initiate a new PPP connection and incorporate mail again. Note that
the user never exited Eudora. Instead of prompting the user for their name and
password Eudora will generate and error message. The only way for the user to
recover the functionality would be to use Leash, Kview, or kdestroy to destroy
their old tickets so that Eudora would get new tickets. </p>

<p style='margin-left:36.0pt'>This happened because many ISPs hand out a new IP
address to a user each time that user reconnects to the system. Also a Kerberos
ticket includes the machines local IP address in an encrypted form this is used
by most severs to insure that the ticket has not been copied to another users
machine. </p>

<p style='margin-left:36.0pt'>Since the local IP address is stored in the
ticket it seems that it should be easy to compare this data to the machine's
local IP address at the same time that an application is checking to see if the
ticket has expired. Unfortunately the IP address in the ticket is encrypted in
the server's session key and so is inaccessible to the local machine. </p>

<p style='margin-left:36.0pt'>Instead we borrowed an idea from Kerberos version
5 and decided to store the local IP address, unencrypted, in the credential
which is cached in the local cache. Within the KClient function IsCredExpired()
or the krbv4wXX.dll function kchktkt we verify that the ticket has not expired
and that the local IP address matches the IP address stored in the ticket. </p>

<p style='margin-left:36.0pt'>This implies that machines with multiple copies
of kclnt32.dll or krbv4w32.dll, of different versions, may encounter unexpected
errors when using Kerberized applications. The normal error message generated
will be BAD_TKT_FILE_FORMAT or NO_TKT_FILE. </p>

<p style='margin-left:36.0pt'>Users of applications that use other vendors
Kerberos implementations may also be affected. E.g. some software from FTP,
Inc. </p>

<ol style='margin-top:0pt' start=2 type=1>
<li class=MsoNormal>Add
a new function to the KClient DLL. This function is
SendTicketsForService(). It is basically a send_auth() type function.
Before everyone complains please read the following explanation. </li>
</ol>

<p style='margin-left:36.0pt'>Qualcomm has been working with Platinum on a
32-bit KClient which would supports both Kerberos v4 and v5. From what I have
heard this is a commercial implementation. It ignores GSS or other abstraction
layers above the Kerberos layer that application developers should write to. It
keeps its ticket cache in the DLL, as such it will not share the ticket cache
with other Kerberos implementations that may reside on the user's system. </p>

<p style='margin-left:36.0pt'>Platinum and Qualcomm decide to add a new API
call to the KClient interface. Eudora uses this new function if it finds a
KCLNT32.DLL. In this case it does not use the thunking application KERB16. </p>

<p style='margin-left:36.0pt'>We have duplicated this function in our release
of KCLNT32 so that Eudora will not GPF. Please DO NOT WRITE APPLICATIONS TO
THIS FUNCTION. </p>

<ol style='margin-top:0pt' start=3 type=1>
<li class=MsoNormal>We
stole an idea from Cornell. If the clock is out of synch when we are
trying to obtain a ticket we synchronize the clock and try again. We
inform the user if this occurred. </li>
<li class=MsoNormal>Fixed
up some problems relating to DLL initialization. WSAStartup() will be
called if necessary by a few functions. This was needed to handle some
differences in DLL initialization under Win32 when multiple applications
were using the DLL at the same time. Also fixed up some initialization of
the com_err functions due to similar issues. </li>
<li class=MsoNormal>Added
two new functions to leashw32.dll. The first is
Leash_set_help_file(char*szHelpFile) which allows an application developer
to specify which help file to use from the dialog box presented when using
the Leash_kinit() function. If the argument is NULL the function will
check the environment variable KERB_HELP. If this is not set the hard
coded value of kerberos.hlp will be used. The other function is
Leash_get_help_file() which allows an application developer to determine
the name of the help file being used. These are defined in lshfunc.c. </li>
<li class=MsoNormal>Fix
the send_auth so that we do not fail on a null realm. Also detects when an
invalid socket descriptor has been passed. (Special thanks to Eudora 3.0
for providing a test case.) </li>
</ol>

</div>

</div>

<!-- ---------------------------------------------------------------------- --><!--
<p><hr>
<a name="feedback"></a>
<h2>Feedback</h2>

<p>You can send feedback to the MIT Kerberos for Windows developers to <a
href="mailto:krbdev@mit.edu">krbdev@mit.edu</a>.

<p>For suppport, you should contact whoever you got this software
from.  For general Kerberos support, send mail to <a
href="mailto:kerberos@mit.edu">kerberos@mit.edu</a>.

-->
</body>

</html>
